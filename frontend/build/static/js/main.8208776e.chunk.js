(this.webpackJsonpteams_frontend=this.webpackJsonpteams_frontend||[]).push([[0],{177:function(e,t,n){},185:function(e,t,n){},209:function(e,t,n){},233:function(e,t){},235:function(e,t){},244:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(13),a=n.n(o),i=(n(177),n(178),n(158)),s=n(311),u={solarizedDark:{type:"dark",primary:{main:"#002b36",contrastText:"#eee8d5"},secondary:{main:"#eee8d5",contrastText:"#0e2a35"},background:{default:"#09232c",paper:"#002b36"}},solarizedLight:{type:"light",primary:{main:"#fff7dd",contrastText:"#002b36"},secondary:{main:"#002b36",contrastText:"#eee8d5"},background:{default:"#eee8d5",paper:"#fff7dd"}},light:{type:"light",primary:{main:"#f0f2f5",contrastText:"#000000"},secondary:{main:"#356fff",contrastText:"#ffffff"},background:{default:"#f0f2f5",paper:"#ffffff"}},dark:{type:"dark",primary:{main:"#282828",contrastText:"#ffffff"},secondary:{main:"#356fff",contrastText:"#ffffff"},background:{default:"#18191a",paper:"#242526"}}},l=n(56),d=n(12),j=n(15),b=n(7),A=n(49),f=n(8),h=n(284),g=n(2),O=function(){return Object(g.jsx)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)("div",{children:Object(g.jsx)(h.a,{})})})},m=function(e){var t=e.component,n=Object(A.a)(e,["component"]);return Object(g.jsx)(t,Object(b.a)({},n))},p=function(e){var t=e.layout,n=e.component,c=Object(A.a)(e,["layout","component"]),o=Object(r.useState)(!0),a=Object(j.a)(o,2),i=a[0],s=a[1],u=Object(r.useRef)(!0),l=Object(f.c)((function(e){return e.userReducer.isLoggedIn})),h=Object(d.g)(),p=Object(f.c)((function(e){return e.userReducer.getUserPending}));return Object(r.useLayoutEffect)((function(){u.current?u.current=!1:p||s(!1)}),[p]),Object(r.useEffect)((function(){l&&s(!1)}),[l]),Object(g.jsx)(d.b,{path:c.path,exact:c.exact,component:function(e){return!0===i?Object(g.jsx)(O,{}):l?Object(g.jsx)(t,Object(b.a)(Object(b.a)({},e),{},{noNavbar:c.noNavbar,navbar:c.navbar,navItems:c.navItems,homeIcon:c.homeIcon,children:Object(g.jsx)(r.Suspense,{fallback:Object(g.jsx)("div",{className:"text-primary"}),children:Object(g.jsx)(m,Object(b.a)({component:n},e))})})):Object(g.jsx)(d.a,{to:"/login?next=".concat(h.location.pathname).concat(h.location.search)})}})},v=n(18),x=(n(184),n(185),n(287)),w=n(289),C=n(290),B=n(291),E=n(53),k=n(317),R=n(159),I=n(316),y=n(288),D=n(132),M=n.n(D),Q=n(73),S=n.n(Q),N=M.a.create({baseURL:"/api/",headers:{"Content-type":"application/json; charset=UTF-8"}});N.interceptors.request.use((function(e){return e.headers["X-CSRFToken"]=S.a.get("teams_csrftoken"),e}));var V,U=N,G="GET_USER",F="GET_USER_PENDING",L="LOGIN_PENDING",X="SET_TOKEN",P="LOGGEDINORNOT",T="GET_INVITATION",Y="room/",K=n(82),z="URL",q="CODE",J="27655cd3-e3c3-4e19-8f8f-19c5a245cbcc",H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return{type:e,payload:t}},W=function(e){var t=window.location;return new URL("/room/".concat(e,"/"),t)},Z=(V="GET_USER_ERROR",function(e){return{type:V,error:e}}),_=function(){return function(e){e(H(F,!0)),U.get("user/rest-auth/user/").then((function(t){e(H(P,!0)),e(H(G,t.data)),e(H(F,!1))})).catch((function(t){e(H(P,!1)),e(H(F,!1)),e(Z(t))}))}},$=function(){return function(e){U.get("room/invitations/").then((function(t){e(H(T,t.data))}))}},ee=n(133),te=n.n(ee),ne="CHANGE_THEME",re="data:image/png;base64,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",ce="data:image/png;base64,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",oe="data:image/png;base64,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",ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAACqCAYAAADbXx/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAaASURBVHgB7d3hsdtEFMXxA0MBKWHpACqIUwGhApsKgArkVAAdyFSQEkwqgA7kDkIHxhrxJi+P5zyvpLvaI/9/M3cYvsir1XnKlbySJczl1aX2l/rrUlsBJt5eqrvU+VH1//+DgEptLnXU56F9Wu2lkoBKJL0c2qf1mwgxFvTQ155HVt9K0A+jqIfQftT44D4N8UZAsOcuxuaqVrQSCLBRfl87tvYixJhBUrnQ0g9jFlMvxuYM8XcCbjD3xRj9MIqIvBibq/YCHtlomb52SiuxFe5akldonwtxEu5KLRdjc1UrQrx6tV6MzVEfRT+8Wg4XY3NUJ/rh1djIu68dW/0i+CRYSrrP0D6tVoTYxtouxuaoTvTDVVvzxdicId4KVbmXi7G56r1oJRa3EX3tlGpFiItLIrRzVXepX4RwXIzFhngrzI6LsXLVilZiNlyMEWJLR3kd8Ofqvdl4H1cnWonRHA7wtTrq05mr/29b+XhfCjGvqsrkcnAfV9+X/3xlf/oAdJWNN6da0UrczOWgPtRRtx3cRt4h5lVVN3A5mP3Z9q3yJPm3ElvhKoeD2J+FXmm8/rH2LniM0SHeCP9T+0F7rfnsRD+8KrUeqEbTzrbXJHm3En3tFTM3dmo7MEeVeXtN0vAkRG37f2t1WlE/3B/wo/LVcjC+dPsr0k7+/bDtq6r6fz5+16edyVXDAThq2V4uaWhTapiLsdXKqB++tpAm15ITPub2V6Qk76+a+9qrchtd/6cu11KTPPX2V6Sd/FuJrSqz0csLaXItMbGv5aFR+fmZe66TFpZ0++2dXCUns+az7TVJ/rfWWi0Q4jELxHOVmsDIK+KkeO4Lfoq+qmqncU815Co1eZEalevzHj7rbFqdAudpo2kLxHOVmrRIjT4/OEmxkvxbiaNmnKekeZ5qyFVqsiI1z3xeq/gQuy/4mTxPcz/4mKvUJEVqvvC5e8Xbyb+V2CtT/yz/3E/r5io1QZEavXxwtoqV5N9KdLphnjaK+0vNVWpiIjU3jqHEK0mTvBf89PXFV1VFfnCuUhMSqckcS6v4EO+00n448gNzlZqISM2I8ZS475m0jm/pPntVVeSH5So1CZEajR9XpzL9sPuCn07/zVPkh+QqtfORGk0fX4l+eCfzVuJroUYP92xbxYX4cKlvZf4G9ci/jprGMmVcORrNO9ZS/XArzTruEhW78UzFdjpQI4WMuVN8P+y24Cd245mK7XSgRgod+1Hx/XC/D50Uuh9zVOzGMxXb6UCNpBL70Co2xEn1txKxG89UbKcDNZJK7Uen+H645gU/sRvPVGynAzWSzoWrU3w/vFN9IY7deKZiOx2okXReqI66o1aC+7zrslHs/eHTpX7ScH/4by2M8K7TTsNZOOonq06X+l5DkE9aUOSpvaaxTBlXjkbSuaLqFNsPJy23z7Ebz1RspwM1ks4VVvRPuCYVXvBD23A/Hn4irFVcP/yjCrcSkX8dNY1lyrhyNJLOlVen+J9wbaXY/eDMe5+ShjcG9SHeKsZJwQjvfUsalkZG98MhCC960f1wCMKLx3Ya7g9HtRKzIrzz+0PD2+FdJQ2tRGQ/PJvIK8KaxjJlXGMk+b/446zxrURTYGyxG890LlQlJa3j1+xb5YW4iR4TbUO806XeqIJ1ABPtVFkbQXjLOWhYjeUe4moQ3vIOGlZk7S/1jzAa4V1GH9p3GkJ8EEYhvMs66dPi7oOQhfDW4aQhxBvRD9+M8Nblg7iouxnhrdNBQ4h/FSG+ivDWrf+a+Y28v24OQ3jrd9JwBuai7gnC6+OkT3cm/hQIr6GT1vF182SE19dBd35ngvD6O+hOv6kjvOvQf9180p0hvLBFeGGL8MIW4YUtwgtbhBe2CC9sEV7YIrywRXhhi/DCFuGFLcILW4QXtggvbBFe2CK8sEV4YYvwwhbhhS3CC1vf6D6V/lEVBODMC1uEF7YIL2wRXtgivLBFeGGL8MIW4YUtwgtbhBe2CC9sEV7YIrywRXhhi/DCFuGFLcILW4QXtggvbBFe2CK8sFXb08N7oWYfVJHawvtOwI1oG2CL8MIW4YUtwgtbhBe2CC9sEV7YIrywRXhhi/DCFuGFrei1DRvhXiUF+0r8PgNM0TbAFuGFLcILW4QXtggvbBFe2CK8sEV4YYvwwhbhhS3CC1uEF7YIL2wRXtgivLBFeGGL8MIW4YUtwgtbhBe2CC9sEV7Y6h99bwQY+hdi40h4uIz+5wAAAABJRU5ErkJggg==",ie="data:image/png;base64,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",se={solarizedDark:re,solarizedLight:ce,light:ae,dark:ie,palpatine:oe},ue=Object(x.a)((function(e){return{grow:{flexGrow:1},title:{display:"block",textDecoration:"none",color:e.palette.text.primary,"&:hover":{textDecoration:"none"}},sectionDesktop:{display:"flex"},orange:{color:e.palette.getContrastText(y.a[500]),backgroundColor:y.a[500]},active:{background:"#81818123"}}}));function le(){var e=ue(),t=c.a.useState(null),n=Object(j.a)(t,2),o=n[0],a=n[1],i=Object(r.useState)(null),s=Object(j.a)(i,2),d=s[0],b=s[1],A=Boolean(d),h=Boolean(o),O=Object(f.c)((function(e){return e.userReducer.user})),m=Object(f.b)(),p=(O.first_name?O.first_name[0].toUpperCase():"")+(O.last_name?O.last_name[0].toUpperCase():""),v=function(){a(null)},x=Object(f.c)((function(e){return e.themeReducer.theme})),y="primary-search-account-menu";return Object(g.jsxs)("div",{className:e.grow,children:[Object(g.jsx)(w.a,{position:"static",children:Object(g.jsxs)(C.a,{children:[Object(g.jsx)(l.b,{to:"/",children:Object(g.jsxs)(E.a,{className:e.title,variant:"h6",noWrap:!0,children:[Object(g.jsx)("img",{src:se[x],alt:"logo",style:{marginRight:"1rem",width:"30px",height:"30px"}}),"Meet Now"]})}),Object(g.jsx)("div",{className:e.grow}),Object(g.jsx)(B.a,{"aria-controls":"simple-theme-menu","aria-haspopup":"true",color:"inherit",className:"header-title-button",onClick:function(e){return b(e.currentTarget)},children:Object(g.jsx)(te.a,{})}),Object(g.jsx)("div",{className:e.sectionDesktop,children:Object(g.jsx)(B.a,{edge:"end","aria-label":"account of current user","aria-controls":y,"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(g.jsx)(I.a,{className:e.orange,children:p})})})]})}),Object(g.jsxs)(R.a,{anchorEl:o,id:y,keepMounted:!0,open:h,onClose:function(){v()},children:[Object(g.jsx)(k.a,{children:Object(g.jsx)("b",{children:O.email})}),Object(g.jsx)(k.a,{onClick:function(){v(),m((function(e){U.post("user/rest-auth/logout/").then((function(t){e(H(P,!1))}))}))},children:"Logout"})]}),Object(g.jsxs)(R.a,{id:"simple-theme-menu",anchorEl:d,keepMounted:!0,open:A,onClose:function(){b(null)},style:{marginTop:"30px"},children:[Object(g.jsx)(k.a,{children:Object(g.jsx)("b",{children:"Themes"})}),Object.keys(u).map((function(t,n){return Object(g.jsx)(k.a,{className:x===t?e.active:null,onClick:function(){b(null),m(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return function(t){t(H(ne,e)),localStorage.setItem("theme",e)}}(t))},children:t},n)}))]})]})}var de=function(e){var t=e.children,n=Object(f.c)((function(e){return e.userReducer.isLoggedIn}));return Object(g.jsx)("div",{children:Object(g.jsxs)("main",{style:{height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n&&Object(g.jsx)(le,{}),Object(g.jsx)("div",{className:"w-100 fg-100 overflow-auto position-relative",children:t}),Object(g.jsx)(v.a,{newestOnTop:!1,closeOnClick:!0,draggable:!0,limit:3,position:"bottom-left",autoClose:2e3,hideProgressBar:!0,progress:void 0})]})})},je=n(300),be=n(248),Ae=n(14),fe=n(101),he=n(313),ge=n(295),Oe=n(62),me=n.n(Oe),pe=n(294),ve=n(100),xe=n(63),we="CREATE_ROOM",Ce="GET_ROOMS",Be="TOGGLE_USER_AUDIO",Ee="TOGGLE_USER_VIDEO",ke="SET_USER_IS_CREATOR",Re="GET_ROOM",Ie="SET_MESSAGES",ye=function(e,t){var n="room/".concat(e,"/removeInvite/");return function(e){U.post(n,t).then((function(t){e(H(Re,t.data)),e($())})).catch((function(e){v.b.error(e.response.data)}))}},De=Object(x.a)((function(e){var t;return{container:(t={width:"calc(100% - 10rem)"},Object(Ae.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(Ae.a)(t,"minHeight","7rem"),Object(Ae.a)(t,"borderRadius","2rem"),Object(Ae.a)(t,"padding","1rem"),t),button:{margin:e.spacing(1),float:"right"},row:{display:"flex",marginTop:"1rem"}}}));var Me=function(){var e=De(),t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],o=n[1],a=Object(r.useState)(!1),i=Object(j.a)(a,2),s=i[0],u=i[1],l=Object(f.b)(),d=Object(ve.a)(),b=Object(pe.a)(d.breakpoints.down("sm"));return Object(g.jsxs)(fe.a,{elevation:3,className:e.container,children:[Object(g.jsx)(E.a,{variant:b?"h5":"h2",align:"center",children:"Create New Room"}),Object(g.jsxs)("div",{className:e.row,children:[Object(g.jsx)(he.a,{variant:"outlined",label:"Room Name",value:c,error:s,required:!0,onChange:function(e){var t=e.target.value;t.length<100&&o(t),s&&u(!1)},style:{flexGrow:1}}),Object(g.jsx)(ge.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(g.jsx)(me.a,{}),onClick:function(){var e;0===c.length?u(!0):(l((e={room_name:c},function(t){U.post("room/",e).then((function(e){t(H(we,e.data)),navigator.clipboard.writeText(W(e.data.id)),v.b.success("copied to clipboard")})).catch((function(e){v.b.error("error occured in creating the room")}))})),o(""))},children:"Create"})]})]})},Qe=n(296),Se=n(297),Ne=n(298),Ve=n(299),Ue=n(134),Ge=n.n(Ue),Fe=n(85),Le=n.n(Fe),Xe=function(e){var t=e.room,n=e.onDelete,r=Object(d.g)(),c=W(t.id);return Object(g.jsxs)(Qe.a,{style:{borderTop:"1px solid #ccc"},children:[Object(g.jsx)(Se.a,{title:t.room_name,style:{cursor:"pointer"},onClick:function(){r.push("/room/".concat(t.id,"/"))},action:Object(g.jsx)(B.a,{onClick:function(e){n(t.id),e.stopPropagation()},children:Object(g.jsx)(Ge.a,{})})}),Object(g.jsxs)(Ne.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(g.jsx)(E.a,{variant:"p",children:c.href}),Object(g.jsx)(Le.a,{text:c,onCopy:function(){v.b.success("copied to clipboard")},children:Object(g.jsx)(B.a,{style:{float:"right"},children:Object(g.jsx)(Ve.a,{})})})]})]})},Pe=Object(be.a)((function(e){var t;return{paper:(t={width:"calc(100% - 10rem)"},Object(Ae.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(Ae.a)(t,"minHeight","7rem"),Object(Ae.a)(t,"borderRadius","2rem"),Object(Ae.a)(t,"maxHeight","35rem"),Object(Ae.a)(t,"overflow","scroll"),Object(Ae.a)(t,"&::-webkit-scrollbar",{display:"none"}),Object(Ae.a)(t,"msOverflowStyle","none"),Object(Ae.a)(t,"scrollbarWidth","none"),t),header:{background:e.palette.background.paper,position:"sticky",top:0,zIndex:1,paddingBottom:"1rem"}}})),Te=function(){var e=Object(f.c)((function(e){return e.userReducer.invitedRooms})),t=Pe(),n=Object(f.b)(),r=Object(f.c)((function(e){return e.userReducer.user.email})),c=Object(ve.a)(),o=Object(pe.a)(c.breakpoints.down("sm"));return Object(g.jsxs)(fe.a,{elevation:3,className:t.paper,children:[Object(g.jsx)(E.a,{variant:o?"h5":"h2",align:"center",className:t.header,children:"Your Invitations"}),e.length>0&&e.map((function(e,t){return Object(g.jsx)(Xe,{room:e,onDelete:function(e){n(ye(e,{invitee:r}))}},t)})),0===e.length&&Object(g.jsx)(E.a,{className:"my-5",align:"center",children:"No invititations"})]})},Ye=Object(be.a)((function(e){var t;return{container:(t={width:"calc(100% - 10rem)"},Object(Ae.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(Ae.a)(t,"minHeight","7rem"),Object(Ae.a)(t,"borderRadius","2rem"),Object(Ae.a)(t,"padding","1rem"),Object(Ae.a)(t,"marginTop","2rem"),t),button:{margin:e.spacing(1),float:"right"},row:{display:"flex",marginTop:"1rem"}}})),Ke=function(){var e=Ye(),t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],o=n[1],a=Object(r.useState)(""),i=Object(j.a)(a,2),s=i[0],u=i[1],l=Object(d.g)(),b=Object(ve.a)(),A=Object(pe.a)(b.breakpoints.down("sm"));return Object(g.jsxs)(fe.a,{elevation:3,className:e.container,children:[Object(g.jsx)(E.a,{variant:A?"h5":"h2",align:"center",children:"Join Room"}),Object(g.jsxs)("div",{className:e.row,children:[Object(g.jsx)(he.a,{variant:"outlined",label:"Enter code or link of the room",value:c,error:Boolean(s),helperText:s,onChange:function(e){var t=e.target.value;o(t),s&&u("")},style:{flexGrow:1}}),Object(g.jsx)(ge.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(g.jsx)(me.a,{}),onClick:function(){var e=function(e){var t={type:z,is_correct:!0,error_message:""};try{var n=new URL(e);if(n.hostname!==window.location.hostname)return t.is_correct=!1,t.error_message="host of url should be ".concat(window.location.hostname),t;var r=n.pathname,c=new URL("http://localhost:3000/room/27655cd3-e3c3-4e19-8f8f-19c5a245cbcc/");if(r.length<c.pathname.length)return t.is_correct=!1,t.error_message="url path too short",t;if(r.length>c.pathname.length)return t.is_correct=!1,t.error_message="url path too long",t}catch(o){if(t.type=q,e.length<J.length)return t.is_correct=!1,t.error_message="code is too short",t;if(e.length>J.length)return t.is_correct=!1,t.error_message="code is too long",t}return t}(c);if(e.is_correct){var t="";if(e.type===z)t=new URL(c).pathname;else t="room/".concat(c);l.push(t)}else u(e.error_message)},children:"Join"})]})]})},ze=Object(be.a)((function(e){var t;return{paper:(t={width:"calc(100% - 10rem)"},Object(Ae.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(Ae.a)(t,"minHeight","7rem"),Object(Ae.a)(t,"borderRadius","2rem"),Object(Ae.a)(t,"maxHeight","35rem"),Object(Ae.a)(t,"overflow","scroll"),Object(Ae.a)(t,"&::-webkit-scrollbar",{display:"none"}),Object(Ae.a)(t,"msOverflowStyle","none"),Object(Ae.a)(t,"scrollbarWidth","none"),t),header:{background:e.palette.background.paper,position:"sticky",top:0,zIndex:1,paddingBottom:"1rem"}}})),qe=function(){var e=Object(f.c)((function(e){return e.roomReducer.rooms})),t=ze(),n=Object(f.b)(),r=Object(ve.a)(),c=Object(pe.a)(r.breakpoints.down("sm"));return Object(g.jsxs)(fe.a,{elevation:3,className:t.paper,children:[Object(g.jsx)(E.a,{variant:c?"h5":"h2",align:"center",className:t.header,children:"Your Rooms"}),e.length>0&&e.map((function(t,r){return Object(g.jsx)(Xe,{room:t,onDelete:function(t){n(function(e,t){var n="".concat(Y).concat(e,"/");return function(r,c){U.delete(n).then((function(n){t(e)}))}}(t,(function(t){var r=e.filter((function(e){return e.id!==t}));n(H(Ce,r))})))}},r)})),0===e.length&&Object(g.jsx)(E.a,{className:"my-5",align:"center",children:"No rooms available. Please create a room to proceed"})]})},Je=Object(be.a)((function(e){return{component:{flexGrow:1,display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"column",gap:"1rem"},leftComp:{flexGrow:1,display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"column",gap:"1rem"},container:{display:"flex",flexWrap:"wrap",height:"100%",overflowY:"auto",backgroundColor:e.palette.background.default}}})),He=function(){var e=Object(d.h)(),t=Je(),n=Object(f.b)();return Object(r.useEffect)((function(){n((function(e){U.get("room/").then((function(t){e(H(Ce,t.data))})).catch((function(e){v.b.error("error occured in fetching your rooms",{})}))})),n($()),e.state&&e.state.message&&("error"===e.state.type&&v.b.error(e.state.message),window.history.replaceState(null,""))}),[]),Object(g.jsxs)(je.a,{maxWidth:!1,className:t.container,children:[Object(g.jsxs)("div",{className:[t.leftComp],children:[Object(g.jsx)(Me,{}),Object(g.jsx)(Te,{})]}),Object(g.jsxs)("div",{className:t.component,children:[Object(g.jsx)(Ke,{}),Object(g.jsx)(qe,{})]})]})},We=n(301),Ze=n(135),_e=n.n(Ze),$e=n(136),et=n.n($e),tt=n.p+"static/media/google_logo.b3d26100.png",nt={solarizedDark:re,solarizedLight:ce,light:ae,dark:ie,palpatine:oe},rt=Object(be.a)((function(e){return{margin:{margin:e.spacing(2)},padding:{padding:e.spacing(1)},paper:{width:"20rem",height:"40rem"},container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",backgroundColor:e.palette.background.default},loginButton:{background:e.palette.background.default,border:0,boxShadow:"0px 0px 8px 8px ".concat(e.palette.background.default),borderRadius:"1rem",color:e.palette.text.primary,"&:hover":{background:e.palette.background.paper}},name:{marginLeft:"0.5rem"}}})),ct=function(){var e=Object(f.c)((function(e){return e.themeReducer.theme})),t=rt(),n=Object(f.b)(),r=function(e){var t={access_token:e.accessToken,code:e.googleId};n(function(e){return function(t){U.post("user/rest-auth/google/",e).then((function(e){t(H(X,e.data.key)),t(H(P,!0)),t(_()),v.b.success("Logged In Successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),S.a.set("token",e.data.key,{expires:7})})).catch((function(e){400===e.response.status&&e.response.data&&e.response.data.non_field_errors&&e.response.data.non_field_errors.length>0&&"User is already registered with this e-mail address."===e.response.data.non_field_errors[0]&&v.b.error("user already registered with facebook."),t(Z(e))}))}}(t))};return Object(g.jsx)("div",{className:t.container,children:Object(g.jsxs)(fe.a,{className:[t.padding,t.paper,t.margin],style:{display:"flex",flexDirection:"column",justifyContent:"center"},elevation:3,children:[Object(g.jsxs)(We.a,{container:!0,justify:"center",style:{marginBottom:"10px"},children:[Object(g.jsx)("img",{src:nt[e],alt:"logo",style:{marginRight:"1rem",width:"30px",height:"30px"}}),Object(g.jsx)("h2",{children:"Meet Now"})]}),Object(g.jsxs)(We.a,{container:!0,justify:"center",style:{marginTop:"100px"},children:[Object(g.jsx)(_e.a,{clientId:"302773532147-p6kaebp90a971e671t0c7146e97qrk07.apps.googleusercontent.com",buttonText:"LOGIN WITH GOOGLE",cookiePolicy:"single_host_origin",onSuccess:r,onFailure:r,render:function(e){return Object(g.jsxs)(ge.a,{variant:"contained",className:t.loginButton,onClick:e.onClick,disabled:e.disabled,style:{marginBottom:"3rem"},children:[Object(g.jsx)(I.a,{alt:"google logo",src:tt}),Object(g.jsx)("span",{className:t.name,children:"Sign in with Google"})]})}}),Object(g.jsx)(et.a,{textButton:"LOGIN WITH FACEBOOK",appId:"179598967332582",fields:"name,email,picture",callback:function(e){var t;n((t={access_token:e.accessToken,code:e.userID},function(e){U.post("user/rest-auth/facebook/",t).then((function(t){e(H(X,t.data.key)),e(H(P,!0)),e(_()),v.b.success("Logged In Successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),S.a.set("token",t.data.key,{expires:7})})).catch((function(t){400===t.response.status&&t.response.data&&t.response.data.non_field_errors&&t.response.data.non_field_errors.length>0&&"User is already registered with this e-mail address."===t.response.data.non_field_errors[0]&&v.b.error("user already registered with google."),e(Z(t))}))}))},render:function(e){return Object(g.jsxs)(ge.a,{variant:"contained",className:t.loginButton,onClick:e.onClick,disabled:e.disabled,children:[Object(g.jsx)(I.a,{alt:"google logo",src:"data:image/png;base64,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"}),Object(g.jsx)("span",{className:t.name,children:"Sign in with Facebook"})]})}})]})]})})},ot=n(137),at=n(138),it=function(){function e(){Object(ot.a)(this,e),this.callbacks={},this.socketRef=null,this.fallback=null,this.forcedClose=!1}return Object(at.a)(e,[{key:"connect",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.forcedClose=!1,this.fallback=n,this.socketRef=new WebSocket(e),this.socketRef.onopen=function(){console.log("websocket open")},this.socketRef.onmessage=function(e){t.socketNewMessage(e.data)},this.socketRef.onerror=function(e){console.debug(e)},this.socketRef.onclose=function(r){console.log(r),4e3===r.code?t.fallback(r):t.forcedClose?console.log("websocket closed"):(console.log("websockets closed lets reopen"),setTimeout((function(){t.connect(e,n(r))}),5e3))}}},{key:"close",value:function(e,t){"undefined"==typeof e&&(e=1e3),this.forcedClose=!0,this.socketRef&&this.socketRef.close(e,t)}},{key:"on",value:function(e,t){this.callbacks[e]=t}},{key:"del",value:function(e){this.callbacks[e]&&delete this.callbacks[e]}},{key:"socketNewMessage",value:function(e){var t=JSON.parse(e),n=t.command,r=t.data;console.log(t),0!==Object.keys(this.callbacks).length&&this.callbacks[n]&&this.callbacks[n](r)}},{key:"sendMessage",value:function(e,t){try{console.log(e,t),this.waitForConnection(function(){this.socketRef.send(JSON.stringify({type:e,data:t}))}.bind(this),1e3)}catch(n){console.log(n.message)}}},{key:"refresh",value:function(){this.socketRef&&this.socketRef.close()}},{key:"state",value:function(){return this.socketRef.readyState}},{key:"waitForConnection",value:function(e,t){if(1===this.state())e();else{var n=this;setTimeout((function(){n.waitForConnection(e,t)}),t)}}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();it.instance=null;var st=it.getInstance(),ut=n(36),lt=n.n(ut),dt=n(52),jt=n(314),bt=n(86),At=n.n(bt),ft=n(162),ht=n(142),gt=n.n(ht),Ot=n(143),mt=n.n(Ot),pt=n(141),vt=n.n(pt),xt=n(140),wt=n.n(xt),Ct=Object(x.a)((function(e){return{responsive:function(){return{float:"left",display:"flex",alignItems:"center",transition:"width 0.5s, height 0.5s"}},videoTop:{background:e.palette.background.paper},micOff:{position:"absolute",right:0,top:0},videoOff:{position:"absolute",width:"100%",height:"100%",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},avatar:{width:"min(50%, 10rem)",height:"min(50%, 10rem)",fontSize:"3rem"},hoverDiv:{position:"absolute",zIndex:3,top:"0",left:"0",width:"100%",height:"100%"},remove:{color:"white","&:disabled":{color:"#444"}},name:{position:"absolute",bottom:"0.5rem",left:"1rem",color:"white"}}})),Bt=c.a.forwardRef((function(e,t){var n=e.peer,o=e.muted,a=e.size,i=e.rows,s=e.isUserVideo,u=e.user,l=e.isSharingScreen,d=e.pinnedUser,b=e.setPinnedUser,A=Object(r.useRef)(null),h=t||A,O=u.pk||u.id,m=Ct(),p=c.a.useState(!1),x=Object(j.a)(p,2),w=x[0],C=x[1],k=Object(f.c)((function(e){return e.roomReducer.isUserCreator})),R=Object(f.c)((function(e){return e.roomReducer.currentRoom.invited_users})),y=Object(r.useRef)(null),D=c.a.useState(),M=Object(j.a)(D,2),Q=M[0],S=M[1],N=c.a.useState(),V=Object(j.a)(N,2),U=V[0],G=V[1],F=new ResizeObserver((function(e){var t,n,r,c=Object(K.a)(e);try{for(c.s();!(r=c.n()).done;){var o=r.value;o.contentBoxSize&&(t=9*o.contentRect.width/16<o.contentRect.height?.95*o.contentRect.width:.95*o.contentRect.height*16/9,n=9*o.contentRect.width/16>o.contentRect.height?.95*o.contentRect.height:.95*o.contentRect.width*9/16)}}catch(a){c.e(a)}finally{c.f()}S(t),G(n)}));Object(r.useEffect)((function(){F.observe(y.current)}),[]);var L=(u.first_name?u.first_name[0].toUpperCase():"")+(u.last_name?u.last_name[0].toUpperCase():""),X=u.first_name+" "+u.last_name;X=X.trim(),s&&(X="You"),Object(r.useEffect)((function(){n&&n.on("stream",(function(e){h.current.srcObject=e}))}),[]);return Object(g.jsx)("div",{className:m.responsive,ref:y,style:{width:"".concat(d===O?100:-1===d?100/a-2:0,"%"),height:"".concat(d===O?100:-1===d?100/i-2:0,"%")},children:Object(g.jsxs)("div",{className:m.videoTop,style:{width:Q,height:U,position:"relative",overflow:"hidden",margin:"auto",borderRadius:"1rem"},children:[Object(g.jsx)("video",{style:{objectFit:"contain",transform:s&&!l?"scaleX(-1)":1,position:"absolute",top:"0",left:"0",display:u.videoOn?"block":"none"},playsInline:!0,width:"100%",height:"100%",autoPlay:!0,muted:o,ref:h,onClick:function(){},onMouseEnter:function(){C(!0)},onTouchEnd:function(){C((function(e){return!e}))}}),w&&Object(g.jsx)(ft.a,{in:w,children:Object(g.jsx)("div",{className:m.hoverDiv,onMouseLeave:function(){C(!1)},onTouchEnd:function(){C((function(e){return!e}))},children:Object(g.jsxs)("div",{style:{opacity:.6,background:"black",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(g.jsx)(jt.a,{title:d===O?"remove pin":"pin the user",children:Object(g.jsx)(B.a,{className:m.remove,onClick:function(e){e.stopPropagation(),w&&b(d===O?-1:O)},children:d===O?Object(g.jsx)(wt.a,{fontSize:"large"}):Object(g.jsx)(vt.a,{fontSize:"large"})})}),Object(g.jsx)(jt.a,{title:"remove user",children:Object(g.jsx)(B.a,{className:m.remove,onClick:function(e){e.stopPropagation(),k&&!s&&w&&st.sendMessage("user kick",{userID:u.id})},disabled:!k||s,children:Object(g.jsx)(gt.a,{fontSize:"large"})})}),Object(g.jsx)(jt.a,{title:"Block user",children:Object(g.jsx)(B.a,{className:m.remove,onClick:function(e){e.stopPropagation(),k&&!s&&w&&(R.some((function(e){return e.id===u.id}))?v.b.error("user is invited. first remove the invitation"):st.sendMessage("user block",{userID:u.id}))},disabled:!k||s,children:Object(g.jsx)(mt.a,{fontSize:"large"})})}),Object(g.jsx)(E.a,{variant:"p",className:m.name,children:X})]})})}),!u.audioOn&&Object(g.jsx)(B.a,{className:m.micOff,children:Object(g.jsx)(At.a,{})}),!u.videoOn&&Object(g.jsx)("div",{className:m.videoOff,onMouseEnter:function(){C(!0)},onTouchEnd:function(){C((function(e){return!e}))},children:Object(g.jsx)(I.a,{className:m.avatar,children:L})})]})})})),Et=n(90),kt=n(144),Rt=n.n(kt),It=n(145),yt=n.n(It),Dt=n(146),Mt=n.n(Dt),Qt=n(147),St=n.n(Qt),Nt=n(152),Vt=n.n(Nt),Ut=n(151),Gt=n.n(Ut),Ft=n(150),Lt=n.n(Ft),Xt=n(302),Pt=n(303),Tt=n(304),Yt=n(305),Kt=n(306),zt=function(e){var t=e.open,n=e.setOpen,r=Object(f.c)((function(e){return e.roomReducer.currentRoom.room_name}));return Object(g.jsxs)(Xt.a,{open:t,onClose:function(){n((function(e){return!e}))},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(g.jsx)(Pt.a,{id:"alert-dialog-title",children:"Meeting Details"}),Object(g.jsxs)(Tt.a,{children:[Object(g.jsx)(E.a,{variant:"h5",children:r}),Object(g.jsx)("br",{}),Object(g.jsx)(E.a,{variant:"p",children:"Joining info"}),Object(g.jsx)(Yt.a,{id:"alert-dialog-description",children:window.location.href})]}),Object(g.jsx)(Kt.a,{children:Object(g.jsx)(Le.a,{text:window.location.href,onCopy:function(){v.b.success("copied to clipboard")},children:Object(g.jsx)(ge.a,{children:"Copy link"})})})]})},qt=n(307),Jt=n(308),Ht=n(87),Wt=n.n(Ht),Zt=function(e){var t=e.open,n=e.setOpen,c=Object(d.i)().roomID,o=Object(f.c)((function(e){return e.roomReducer.currentRoom.invited_users||[]})),a=Object(r.useState)({str:"",err_message:""}),i=Object(j.a)(a,2),s=i[0],u=i[1],l=Object(f.b)();return Object(g.jsxs)(Xt.a,{open:t,onClose:function(){n((function(e){return!e}))},children:[Object(g.jsx)(Pt.a,{children:"Invite people"}),Object(g.jsxs)(Tt.a,{children:[o.map((function(e,t){return Object(g.jsxs)(qt.a,{style:{alignItems:"center"},children:[Object(g.jsx)(Jt.a,{children:e.email}),Object(g.jsx)(B.a,{onClick:function(){l(ye(c,{invitee:e.email}))},children:Object(g.jsx)(Wt.a,{})})]},t)})),Object(g.jsx)(he.a,{error:s.err_message.length>0,value:s.str,onChange:function(e){var t=e.target.value;u({str:t,err_message:""})},helperText:s.err_message}),Object(g.jsx)(B.a,{onClick:function(){var e,t=s.str,n="";0===t.length?n="email can't be empty":(e=t)&&"string"===typeof e&&e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(l(function(e,t){var n="room/".concat(e,"/invite/");return function(e){U.post(n,t).then((function(t){e(H(Re,t.data)),v.b.success("user invited")})).catch((function(e){v.b.error(e.response.data)}))}}(c,{invitee:t})),u({str:"",err_message:""})):n="email not valid",n.length&&u({str:t,err_message:n})},children:Object(g.jsx)(me.a,{})})]})]})},_t=n(153),$t=n.n(_t),en=n(148),tn=n.n(en),nn=n(149),rn=n.n(nn),cn=Object(x.a)((function(e){return{container:{minHeight:"3rem",flexGrow:0,background:e.palette.background.default},blue:{background:"blue"},orange:{color:Et.a[500]},right:{marginRight:"1rem"},join:{color:e.palette.background.default,background:e.palette.text.primary,"&:hover":{color:e.palette.text.primary,background:e.palette.background.default}}}})),on=function(e){var t=e.switchc,n=e.shareScreen,o=e.toggleChat,a=e.isJoinedRoom,i=e.setIsJoinedRoom,s=e.leaveMeet,u=cn(),l=Object(f.b)(),d=Object(f.c)((function(e){return e.roomReducer.userVideo.audioOn})),b=Object(f.c)((function(e){return e.roomReducer.userVideo.videoOn})),A=Object(r.useState)(!1),h=Object(j.a)(A,2),O=h[0],m=h[1],p=Object(r.useState)(!1),v=Object(j.a)(p,2),x=v[0],w=v[1],C=Object(f.c)((function(e){return e.roomReducer.currentRoom.room_name})),I=Object(f.c)((function(e){return e.roomReducer.isUserCreator})),y=Object(ve.a)(),D=Object(pe.a)(y.breakpoints.down("sm")),M=c.a.useState(null),Q=Object(j.a)(M,2),S=Q[0],N=Q[1],V=Boolean(S);return Object(g.jsx)(fe.a,{elevation:3,className:u.container,children:Object(g.jsxs)(We.a,{justify:"space-between",container:!0,alignItems:"center",style:{height:"100%"},children:[Object(g.jsx)("div",{children:Object(g.jsx)(E.a,{variant:"h5",style:{marginLeft:"1rem"},children:C})}),Object(g.jsxs)("div",{children:[Object(g.jsx)(jt.a,{title:d?"Mic On":"Mic off",children:Object(g.jsx)(B.a,{color:"inherit",onClick:function(){l((function(e){e(H(Be))}))},children:d?Object(g.jsx)(Rt.a,{}):Object(g.jsx)(At.a,{})})}),a?Object(g.jsx)(jt.a,{title:"end call",children:Object(g.jsx)(B.a,{color:"inherit",onClick:s,children:Object(g.jsx)(yt.a,{className:u.orange})})}):Object(g.jsx)(jt.a,{title:"Join the meeting",children:Object(g.jsx)(ge.a,{onClick:function(){i(!0)},className:u.join,children:"Join Room"})}),Object(g.jsx)(jt.a,{title:b?"video on":"video off",children:Object(g.jsx)(B.a,{color:"inherit",onClick:function(){l((function(e){e(H(Ee))}))},children:b?Object(g.jsx)(Mt.a,{}):Object(g.jsx)(St.a,{})})}),a&&Object(g.jsx)(jt.a,{title:"share screen",children:Object(g.jsx)(B.a,{color:"inherit",onClick:function(){n()},children:Object(g.jsx)(tn.a,{})})})]}),!D&&Object(g.jsxs)("div",{className:u.right,children:[Object(g.jsx)(jt.a,{title:"switch camera",children:Object(g.jsx)(B.a,{color:"inherit",onClick:function(){t()},children:Object(g.jsx)(rn.a,{})})}),I&&a&&Object(g.jsx)(jt.a,{title:"invite users",children:Object(g.jsx)(B.a,{onClick:function(){w((function(e){return!e}))},children:Object(g.jsx)(Lt.a,{})})}),Object(g.jsx)(jt.a,{title:"Meeting Details",children:Object(g.jsx)(B.a,{onClick:function(){m((function(e){return!e}))},children:Object(g.jsx)(Gt.a,{})})}),Object(g.jsx)(jt.a,{title:"Chat",children:Object(g.jsx)(B.a,{onClick:o,children:Object(g.jsx)(Vt.a,{})})})]}),D&&Object(g.jsxs)("div",{className:u.right,children:[Object(g.jsx)(B.a,{"aria-controls":"simple-theme-menu","aria-haspopup":"true",color:"inherit",className:"header-title-button",onClick:function(e){return N(e.currentTarget)},children:Object(g.jsx)($t.a,{})}),Object(g.jsxs)(R.a,{anchorEl:S,id:"controls-menu",keepMounted:!0,open:V,onClose:function(){N(null)},children:[Object(g.jsx)(k.a,{onClick:function(){t()},children:"Switch Camera"}),I&&a&&Object(g.jsx)(k.a,{onClick:function(){N(null),w((function(e){return!e}))},children:"Invite User"}),Object(g.jsx)(k.a,{onClick:function(){N(null),m((function(e){return!e}))},children:"Meeting Details"}),Object(g.jsx)(k.a,{onClick:function(){N(null),o()},children:"Chat"})]})]}),I&&a&&Object(g.jsx)(Zt,{open:x,setOpen:w}),Object(g.jsx)(zt,{open:O,setOpen:m})]})})},an=function(e){for(var t=Math.floor(Math.sqrt(e)),n=t-e%t,r=Math.floor(e/t),c=[],o=0;o<t;o++)o>=n?c.push(r+1):c.push(r);c=c.reverse();for(var a={},i=1,s=0,u=1;u<=e;u++)a[u]=c[s],++i>c[s]&&(i=1,s++);return a.rows=c.length,a};var sn=n(315),un=n(154),ln=n.n(un),dn=n(310),jn=n(309),bn=(n(209),Object(x.a)((function(e){return{drawer:{width:360,flexShrink:0},drawerPaper:{width:360,height:"calc(100vh - 9rem)",borderRadius:"1rem",top:"5rem",right:"12px"},drawerHeader:Object(b.a)(Object(b.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),chatInputContainer:{marginTop:"auto"},chatInput:{marginBottom:"2rem","& .MuiFilledInput-root":{borderRadius:"50px",borderBottom:0,paddingTop:"15px",paddingBottom:"15px","&::before":{borderBottom:0}}},messageBoxRight:{background:e.palette.background.paper,color:e.palette.text.primary},messageBoxLeft:{background:"#4870df",color:e.palette.background.default},messageSender:{color:e.palette.text.primary,fontSize:"10px"}}}))),An=function(e){var t=Object(f.c)((function(e){return e.userReducer.user})),n=bn(),r=t.pk===e.sender.id?"chatApp__convMessageItem--right":"chatApp__convMessageItem--left",c=t.pk===e.sender.id?n.messageBoxRight:n.messageBoxLeft;return Object(g.jsx)("div",{className:"chatApp__convMessageItem "+r+" clearfix",children:Object(g.jsxs)("div",{className:"chatApp__convMessageValue ".concat(c),children:[t.pk!==e.sender.id&&Object(g.jsx)("div",{className:n.messageSender,children:e.sender.first_name}),Object(g.jsx)("div",{children:e.message})]})})},fn=c.a.memo((function(e){return Object(g.jsx)("div",{className:"chatApp__convTimeline",children:e.messages.slice(0).reverse().map((function(e,t){return Object(g.jsx)(An,{sender:e.user,message:e.message},t)}))})})),hn=function(e){var t=e.open,n=e.setOpen,c=Object(f.c)((function(e){return e.roomReducer.roomMessages})),o=Object(r.useState)(""),a=Object(j.a)(o,2),i=a[0],s=a[1],u=bn(),l=Object(f.b)();Object(r.useEffect)((function(){st.on("receive new message",(function(e){l(function(e){return function(t,n){var r=n().roomReducer.roomMessages;t(H(Ie,[].concat(Object(xe.a)(r),[e])))}}(e))})),st.on("get all messages",(function(e){l(function(e){return function(t){t(H(Ie,e))}}(e.messages))}))}),[]);var d=Object(r.useCallback)((function(e){var t=e.target.value;s(t)}),[]);return Object(g.jsxs)(sn.a,{className:u.drawer,variant:"persistent",anchor:"right",open:t,classes:{paper:u.drawerPaper},children:[Object(g.jsx)("div",{className:u.drawerHeader,children:Object(g.jsx)(B.a,{onClick:function(){n(!1)},children:Object(g.jsx)(ln.a,{})})}),Object(g.jsx)(fn,{messages:c}),Object(g.jsx)("div",{className:u.chatInputContainer,children:Object(g.jsx)(he.a,{placeholder:"send a message to everyone",size:"small",variant:"filled",fullWidth:!0,multiline:!0,rowsMax:4,className:u.chatInput,value:i,onChange:d,InputProps:{endAdornment:Object(g.jsx)(jn.a,{position:"end",children:i.length>0&&Object(g.jsx)(B.a,{"aria-label":"toggle password visibility",onClick:function(){st.sendMessage("send new message",i),s("")},children:Object(g.jsx)(dn.a,{})})})}})})]})},gn=n(160),On=n(99),mn=n.n(On);var pn=function(e,t,n,r){return function(c){e.current={};var o={};c.forEach((function(r){if(t!==r.id){var c=function(e,t,n){var r=new mn.a({initiator:!0,trickle:!1,stream:n});return r.on("signal",(function(n){st.sendMessage("sending signal",{userToSignal:e,callerID:t,signal:n})})),r}(r.id,t,n);e.current[r.id]={user:r,peer:c},o[r.id]={user:r,peer:c}}})),r(o)}},vn=function(e,t,n,r,c,o){return function(c){var o,a,i=c.callerUser;if(c.usable_id===e){var s=function(e,t,n){var r=new mn.a({initiator:!1,trickle:!1,stream:n});return r.on("signal",(function(e){st.sendMessage("returning signal",{signal:e,callerID:t})})),r.signal(e),r}(c.signal,i.id,n);t.current[i.id]={user:i,peer:s},r((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(Ae.a)({},i.id,{user:i,peer:s}))})),v.b.info("".concat((o=i.first_name,a=i.last_name,(o+" "+a).trim())," joined"))}}},xn=function(e,t){return function(n){n.usable_id===e&&t((function(e){return e.push(n.user),function(e,t){var n,r=[],c=new Map,o=Object(K.a)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;c.has(a[t])||(c.set(a[t],!0),r.push(Object(b.a)({},a)))}}catch(i){o.e(i)}finally{o.f()}return r}(e,"id")}))}},wn=n(312),Cn=n(156),Bn=n.n(Cn),En=Object(be.a)((function(e){return{modal:{"&& .modal-content":{background:e.palette.background.paper,color:e.palette.text.primary}}}})),kn=function(e){var t=e.waitingUsers,n=e.setWaitingUsers,r=En();return Object(g.jsxs)(wn.a,{show:Boolean(t.length),onHide:function(){},backdrop:"static",keyboard:!1,className:r.modal,children:[Object(g.jsx)(wn.a.Header,{children:Object(g.jsx)(wn.a.Title,{children:"Modal title"})}),Object(g.jsx)(wn.a.Body,{children:t.map((function(e,t){return Object(g.jsxs)(qt.a,{style:{alignItems:"center"},children:[Object(g.jsxs)(Jt.a,{children:[e.first_name," wants to join"]}),Object(g.jsx)(B.a,{onClick:function(){!function(e){st.sendMessage("give join permission status",{userID:e.id,status:"reject"}),n((function(t){return t.filter((function(t){return t.id!==e.id}))}))}(e)},children:Object(g.jsx)(Wt.a,{})}),Object(g.jsx)(B.a,{onClick:function(){!function(e){st.sendMessage("give join permission status",{userID:e.id,status:"accept"}),n((function(t){return t.filter((function(t){return t.id!==e.id}))}))}(e)},children:Object(g.jsx)(Bn.a,{})})]},t)}))}),Object(g.jsx)(wn.a.Footer,{})]})},Rn=function(e,t,n){return function(r){for(var c in e.current)e.current[c].peer.replaceTrack(n.getVideoTracks()[0],r,n);t(Object(b.a)({},e.current)),n.removeTrack(n.getVideoTracks()[0]),n.addTrack(r)}},In=function(){var e=Object(dt.a)(lt.a.mark((function e(t,n,r,c,o){var a,i,s;return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getDisplayMedia({cursor:!0});case 2:a=e.sent,i=c.getVideoTracks()[0],s=a.getVideoTracks()[0],Rn(t,n,c)(s),o(!0),s.onended=Object(dt.a)(lt.a.mark((function e(){return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:r,audio:!0});case 2:e.sent,Rn(t,n,c)(i),o(!1);case 5:case"end":return e.stop()}}),e)})));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,c,o){return e.apply(this,arguments)}}(),yn={height:window.innerHeight/2,width:window.innerWidth/2},Dn=Object(x.a)((function(e){return{container:{display:"flex",height:"100%",width:"100%",flexDirection:"column",background:e.palette.background.default}}})),Mn=function(e,t,n,r,c,o,a){st.on("all users",pn(e,t,n,r)),st.on("user joined",vn(t,e,n,r)),st.on("receiving returned signal",function(e,t,n,r){return function(c){c.usable_id===e&&(t.current[c.id].peer.signal(c.signal),st.sendMessage("audioMedia",{userID:e,audioOn:n}),st.sendMessage("videoMedia",{userID:e,videoOn:r}),st.sendMessage("get media",""))}}(t,e,c,o)),st.on("user left",function(e,t,n){return function(e){var r=e.user;t.current[r.id]&&t.current[r.id].peer.destroy(),delete t.current[r.id],n((function(t){var n=e.user.id;return t[n],Object(A.a)(t,[n].map(gn.a))}))}}(0,e,r)),st.on("videoMedia",function(e,t){return function(n){var r=n.userID;e.current[r]&&(e.current[r].user.videoOn=n.videoOn,t((function(e){var t=e[r],c=t.user,o=t.peer;return Object(b.a)(Object(b.a)({},e),{},Object(Ae.a)({},r,{peer:o,user:Object(b.a)(Object(b.a)({},c),{},{videoOn:n.videoOn})}))})))}}(e,r)),st.on("audioMedia",function(e,t){return function(n){var r=n.userID;e.current[r]&&(e.current[r].user.audioOn=n.audioOn,t((function(e){var t=e[r],c=t.user,o=t.peer;return Object(b.a)(Object(b.a)({},e),{},Object(Ae.a)({},r,{peer:o,user:Object(b.a)(Object(b.a)({},c),{},{audioOn:n.audioOn})}))})))}}(e,r)),st.on("user want to join",xn(t,a)),st.on("get media",function(e,t){return function(n){for(var r in e.current)n.audio[r]&&(e.current[r].user.audioOn=n.audio[r]),n.video[r]&&(e.current[r].user.videoOn=n.video[r]);t((function(e){for(var t in e)n.audio[t]&&(e[t].user.audioOn=n.audio[t]),n.video[t]&&(e[t].user.videoOn=n.video[t]);return Object(b.a)({},e)}))}}(e,r))},Qn=function(){var e=Object(d.i)().roomID,t=Object(r.useState)({}),n=Object(j.a)(t,2),c=n[0],o=n[1],a=Object(r.useRef)(),i=Object(r.useRef)({}),s=Object(f.c)((function(e){return e.userReducer.user.pk})),u=Object(r.useState)(),l=Object(j.a)(u,2),A=l[0],h=l[1],O=Object(r.useRef)(0),m=an(Object.keys(c).length+1),p=Object(r.useState)(!1),v=Object(j.a)(p,2),x=v[0],w=v[1],C=Object(f.c)((function(e){return e.roomReducer.userVideo.audioOn})),B=Object(f.c)((function(e){return e.roomReducer.userVideo.videoOn})),E=Dn(),k=Object(f.c)((function(e){return e.userReducer.user})),R=Object(r.useState)([]),I=Object(j.a)(R,2),y=I[0],D=I[1],M=Object(f.b)(),Q=Object(r.useState)(!1),S=Object(j.a)(Q,2),N=S[0],V=S[1],G=Object(r.useState)(-1),F=Object(j.a)(G,2),L=F[0],X=F[1],P=Object(r.useState)(!1),T=Object(j.a)(P,2),K=T[0],z=T[1],q=function(){var e=Object(dt.a)(lt.a.mark((function e(){var t;return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:t=e.sent,h(t),a&&a.current&&(a.current.srcObject=t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(dt.a)(lt.a.mark((function e(){return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:st.sendMessage("get all messages","");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){M(function(e){var t="room/".concat(e,"/isUserCreator/");return function(e){U.get(t).then((function(t){e(H(ke,t.data.isCreator))}))}}(e)),M(function(e){var t="".concat(Y).concat(e,"/");return function(e){U.get(t).then((function(t){e(H(Re,t.data))}))}}(e)),J()}),[]),Object(r.useEffect)((function(){K&&Mn(i,s,A,o,C,B,D)}),[K,A,C,B,s]),Object(r.useEffect)((function(){var e=A;return function(){e&&(e.getVideoTracks().forEach((function(e){e.stop()})),e.getAudioTracks().forEach((function(e){e.stop()})))}}),[A]),Object(r.useEffect)((function(){A&&(A.getAudioTracks()[0].enabled=C,1===st.state()&&st.sendMessage("audioMedia",{userID:s,audioOn:C}))}),[A,C,s]),Object(r.useEffect)((function(){if(K)st.sendMessage("join room",e);else{for(var t in st.del("all users"),st.del("user joined"),st.del("receiving returned signal"),st.del("user left"),i.current)i.current[t].peer.destroy();st.sendMessage("user left",""),i.current={},o({})}}),[K]),Object(r.useEffect)((function(){A&&(A.getVideoTracks()[0].enabled=B,1===st.state()&&st.sendMessage("videoMedia",{userID:s,videoOn:B}))}),[A,B,s]),Object(r.useEffect)((function(){m=an(Object.keys(c).length+1)}),[c]);return Object(g.jsxs)("div",{className:E.container,children:[Object(g.jsxs)("div",{style:{display:"flex",width:"100%",maxHeight:"calc(100vh - 7rem)",margin:"auto",flexGrow:"1",flexWrap:"wrap"},children:[Object(g.jsx)(Bt,{muted:!0,ref:a,user:Object(b.a)(Object(b.a)({},k),{},{videoOn:B,audioOn:C}),autoPlay:!0,playsInline:!0,size:m[1],rows:m.rows,isUserVideo:!0,isSharingScreen:N,pinnedUser:L,setPinnedUser:X}),Object.values(c).map((function(e,t){return Object(g.jsx)(Bt,{peer:e.peer,user:e.user,size:m[t+2],rows:m.rows,pinnedUser:L,setPinnedUser:X},t)}))]}),Object(g.jsx)(kn,{waitingUsers:y,setWaitingUsers:D}),Object(g.jsx)(on,{switchc:function(){!function(e,t,n,r){return function(){var c=Object(dt.a)(lt.a.mark((function c(o){var a,i,s,u;return lt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,navigator.mediaDevices.enumerateDevices();case 2:return a=c.sent,i=a.filter((function(e){return"videoinput"===e.kind})),o.current=(o.current+1)%i.length,s=Object(b.a)(Object(b.a)({},r),{},{deviceId:{exact:i[o.current].deviceId}}),r=s,c.next=9,navigator.mediaDevices.getUserMedia({video:r,audio:!0});case 9:u=c.sent,Rn(e,t,n)(u.getVideoTracks()[0]);case 11:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(i,o,A,yn)(O)},shareScreen:function(){In(i,o,yn,A,V)},toggleChat:function(){w((function(e){return!e}))},isJoinedRoom:K,setIsJoinedRoom:z,leaveMeet:function(){z(!1)}}),Object(g.jsx)(hn,{open:x,setOpen:w})]})},Sn=Object(be.a)((function(e){return{container:{background:e.palette.background.default,height:"100%",width:"100%",position:"relative"},color:{color:e.palette.text.primary},paper:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"75vw",position:"relative",marginLeft:"auto",marginRight:"auto",top:"3rem"}}})),Nn=function(){var e=Object(d.i)().roomID,t=Object(d.g)(),n=Sn(),c=Object(f.c)((function(e){return e.userReducer.user.pk})),o=Object(r.useState)("pending"),a=Object(j.a)(o,2),i=a[0],s=a[1],u=Object(r.useState)(""),l=Object(j.a)(u,2),b=l[0],A=l[1];return Object(r.useEffect)((function(){st.refresh();var n="http:"===window.location.protocol?"ws":"wss",r=window.location.hostname.includes("localhost")?"localhost:7000":window.location.hostname;return st.connect("".concat(n,"://").concat(r,"/ws/room/").concat(e,"/"),(function(e){t.replace("/",{message:"the url entered is incorrect.",type:"error"})})),st.on("get permission",function(e,t){return function(n){n.usable_id===e&&t(n.status)}}(c,s)),st.on("join message",function(e,t){return function(n){e("message"),"creator not available"===n?t("The Organisor has not joined the room yet. Please try joining after some time"):"user blocked"===n&&t("The Organisor has blocked you.")}}(s,A)),st.on("user kicked",function(e,t){return function(n){n.usable_id===e&&t.replace("/",{message:"The Organisor removed you from room",type:"error"})}}(c,t)),st.on("user blocked",function(e,t){return function(n){n.usable_id===e&&t.replace("/",{message:"The Organisor blocked you from room",type:"error"})}}(c,t)),function(){st.close()}}),[]),Object(r.useEffect)((function(){"reject"===i&&t.replace("/",{message:"The creator rejected the join request",type:"error"})}),[i]),Object(g.jsx)(g.Fragment,{children:"pending"===i?Object(g.jsx)("div",{className:n.container,children:Object(g.jsxs)(fe.a,{elevation:3,variant:"outlined",className:n.paper,children:[Object(g.jsx)(E.a,{variant:"h2",className:n.color,style:{width:"max-content"},children:"Joining the room"}),Object(g.jsx)(h.a,{className:n.color,style:{marginLeft:"1rem"}})]})}):"accept"===i?Object(g.jsx)(Qn,{}):"message"===i?Object(g.jsx)("div",{className:n.container,children:Object(g.jsx)(fe.a,{elevation:3,variant:"outlined",className:n.paper,children:Object(g.jsx)(E.a,{variant:"h2",className:n.color,style:{width:"max-content"},align:"center",children:b})})}):null})},Vn=[{path:"/",exact:!0,layout:de,component:function(){return Object(g.jsx)(He,{})},strictlyPublic:!1},{path:"/room/:roomID",exact:!0,layout:de,component:function(){return Object(g.jsx)(Nn,{})},strictlyPublic:!1}],Un=[{path:"/login",exact:!0,layout:de,component:function(){return Object(g.jsx)(ct,{})},strictlyPublic:!0}],Gn=function(e){var t=e.component,n=Object(A.a)(e,["component"]);return Object(g.jsx)(t,Object(b.a)({},n))},Fn=function(e){var t=e.layout,n=e.component,c=e.strictlyPublic,o=void 0!==c&&c,a=Object(A.a)(e,["layout","component","strictlyPublic"]),i=Object(f.c)((function(e){return e.userReducer.isLoggedIn})),s=Object(d.h)().search;return s=(s=s.includes("?next=")?s.split("?next="):"").length>1?s[1]:"",Object(g.jsx)(d.b,{path:a.path,exact:a.exact,component:function(e){return o&&!0===i?Object(g.jsx)(d.a,{to:s||"/"}):Object(g.jsx)(t,Object(b.a)(Object(b.a)({},e),{},{noNavbar:a.noNavbar,navbar:a.navbar,navItems:a.navItems,homeIcon:a.homeIcon,children:Object(g.jsx)(r.Suspense,{fallback:Object(g.jsx)("div",{className:"text-primary"}),children:Object(g.jsx)(Gn,Object(b.a)({component:n},e))})}))}})},Ln=c.a.memo((function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.userReducer.loginPending}));return Object(r.useEffect)((function(){e(_())}),[t]),Object(g.jsx)(l.a,{children:Object(g.jsxs)(d.d,{children:[Un.map((function(e,t){return Object(g.jsx)(Fn,{strictlyPublic:e.strictlyPublic,layout:e.layout,path:e.path,exact:e.exact,component:e.component},t)})),Vn.map((function(e,t){return Object(g.jsx)(p,{layout:e.layout,path:e.path,exact:e.exact,component:e.component},t)}))]})})}));var Xn=function(){var e,t=Object(f.c)((function(e){return e.themeReducer.theme}));return Object(g.jsx)(s.a,{theme:(e=t,Object(i.a)({palette:u[e]})),children:Object(g.jsx)(Ln,{})})},Pn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,318)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))},Tn=n(74),Yn=Object(b.a)(Object(b.a)({},{createRoomPending:!1,getRoomsPending:!1}),{},{rooms:[],currentRoom:{},roomMessages:[],userVideo:{audioOn:!0,videoOn:!0},isUserCreator:!1});var Kn={theme:localStorage.getItem("theme")||"light"},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ne:return Object(b.a)(Object(b.a)({},e),{},{theme:r});default:return e}},qn=Object(b.a)(Object(b.a)({},{loginPending:!1,getUserPending:!1}),{},{user:{},invitedRooms:[],token:"",isLoggedIn:!1});var Jn,Hn=Object(Tn.b)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(t.error,n){case X:return Object(b.a)(Object(b.a)({},e),{},{token:r});case P:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:r});case G:return Object(b.a)(Object(b.a)({},e),{},{user:r});case L:return Object(b.a)(Object(b.a)({},e),{},{loginPending:r});case F:return Object(b.a)(Object(b.a)({},e),{},{getUserPending:r});case T:return Object(b.a)(Object(b.a)({},e),{},{invitedRooms:r});default:return e}},themeReducer:zn,roomReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(t.error,n){case we:return Object(b.a)(Object(b.a)({},e),{},{currentRoom:r,rooms:[r].concat(Object(xe.a)(e.rooms))});case Ce:return Object(b.a)(Object(b.a)({},e),{},{rooms:r});case Be:return Object(b.a)(Object(b.a)({},e),{},{userVideo:Object(b.a)(Object(b.a)({},e.userVideo),{},{audioOn:!e.userVideo.audioOn})});case Ee:return Object(b.a)(Object(b.a)({},e),{},{userVideo:Object(b.a)(Object(b.a)({},e.userVideo),{},{videoOn:!e.userVideo.videoOn})});case Re:return Object(b.a)(Object(b.a)({},e),{},{currentRoom:r});case ke:return Object(b.a)(Object(b.a)({},e),{},{isUserCreator:r});case Ie:return Object(b.a)(Object(b.a)({},e),{},{roomMessages:r});default:return e}}}),Wn=function(e,t){return Hn(e,t)},Zn=n(157),_n=Object(Tn.c)(Wn,(Jn=[Zn.a],Tn.a.apply(void 0,Object(xe.a)(Jn))));a.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(f.a,{store:_n,children:Object(g.jsx)(Xn,{})})}),document.getElementById("root")),Pn()}},[[244,1,2]]]);
//# sourceMappingURL=main.8208776e.chunk.js.map