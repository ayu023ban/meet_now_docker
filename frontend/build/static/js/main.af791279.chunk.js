(this.webpackJsonpteams_frontend=this.webpackJsonpteams_frontend||[]).push([[1],{11:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return s}));var r="GET_USER_ERROR",c="GET_USER",o="GET_USER_PENDING",a="LOGIN_PENDING",i="SET_TOKEN",u="LOGGEDINORNOT",s="GET_INVITATION"},112:function(e,t,n){},120:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(8),a=n.n(o),i=(n(112),n(113),n(95)),u=n(185),s={solarizedDark:{type:"dark",primary:{main:"#002b36",contrastText:"#eee8d5"},secondary:{main:"#eee8d5",contrastText:"#0e2a35"},background:{default:"#09232c",paper:"#002b36"}},solarizedLight:{type:"light",primary:{main:"#fff7dd",contrastText:"#002b36"},secondary:{main:"#002b36",contrastText:"#eee8d5"},background:{default:"#eee8d5",paper:"#fff7dd"}},palpatine:{type:"dark",primary:{main:"#1a1a1a",contrastText:"#ffffff"},secondary:{main:"#e04035",contrastText:"#ffffff"},background:{default:"#101010",paper:"#1b1b1b"}},light:{type:"light",primary:{main:"#f0f2f5",contrastText:"#000000"},secondary:{main:"#356fff",contrastText:"#ffffff"},background:{default:"#f0f2f5",paper:"#ffffff"}},dark:{type:"dark",primary:{main:"#282828",contrastText:"#ffffff"},secondary:{main:"#356fff",contrastText:"#ffffff"},background:{default:"#18191a",paper:"#242526"}}},f=n(58),l=n(10),d=n(42),b=n(4),j=n(37),O=n(13),h=n(173),m=n(2),p=function(){return Object(m.jsx)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)("div",{children:Object(m.jsx)(h.a,{})})})},g=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return Object(m.jsx)(t,Object(b.a)({},n))},v=function(e){var t=e.layout,n=e.component,c=Object(j.a)(e,["layout","component"]),o=Object(r.useState)(!0),a=Object(d.a)(o,2),i=a[0],u=a[1],s=Object(r.useRef)(!0),f=Object(O.c)((function(e){return e.userReducer.isLoggedIn})),h=Object(O.c)((function(e){return e.userReducer.getUserPending}));return Object(r.useLayoutEffect)((function(){s.current?s.current=!1:h||u(!1)}),[h]),Object(r.useEffect)((function(){f&&u(!1)}),[f]),Object(m.jsx)(l.b,{path:c.path,exact:c.exact,component:function(e){return!0===i?Object(m.jsx)(p,{}):f?Object(m.jsx)(t,Object(b.a)(Object(b.a)({},e),{},{noNavbar:c.noNavbar,navbar:c.navbar,navItems:c.navItems,homeIcon:c.homeIcon,children:Object(m.jsx)(r.Suspense,{fallback:Object(m.jsx)("div",{className:"text-primary"}),children:Object(m.jsx)(g,Object(b.a)({component:n},e))})})):Object(m.jsx)(l.a,{to:"/login"})}})},x=n(31),y=(n(119),n(120),n(177)),R=n(179),k=n(180),E=n(182),_=n(181),T=n(188),C=n(151),I=n(187),P=n(178),S=n(48),w=n(93),N=n.n(w),U=n(16),L="CHANGE_THEME",G=Object(y.a)((function(e){return{grow:{flexGrow:1},title:{display:"block"},sectionDesktop:{display:"flex"},orange:{color:e.palette.getContrastText(P.a[500]),backgroundColor:P.a[500]},active:{background:"#81818123"}}}));function D(){var e=G(),t=c.a.useState(null),n=Object(d.a)(t,2),o=n[0],a=n[1],i=Object(r.useState)(null),u=Object(d.a)(i,2),f=u[0],l=u[1],b=Boolean(f),j=Boolean(o),h=Object(O.c)((function(e){return e.userReducer.user})),p=Object(O.b)(),g=(h.first_name?h.first_name[0].toUpperCase():"")+(h.last_name?h.last_name[0].toUpperCase():""),v=function(){a(null)},x=Object(O.c)((function(e){return e.themeReducer.theme})),y="primary-search-account-menu";return Object(m.jsxs)("div",{className:e.grow,children:[Object(m.jsx)(R.a,{position:"static",children:Object(m.jsxs)(k.a,{children:[Object(m.jsx)(_.a,{className:e.title,variant:"h6",noWrap:!0,children:"Microsoft Teams"}),Object(m.jsx)("div",{className:e.grow}),Object(m.jsx)(E.a,{"aria-controls":"simple-theme-menu","aria-haspopup":"true",color:"inherit",className:"header-title-button",onClick:function(e){return l(e.currentTarget)},children:Object(m.jsx)(N.a,{})}),Object(m.jsx)("div",{className:e.sectionDesktop,children:Object(m.jsx)(E.a,{edge:"end","aria-label":"account of current user","aria-controls":y,"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(m.jsx)(I.a,{className:e.orange,children:g})})})]})}),Object(m.jsxs)(C.a,{anchorEl:o,id:y,keepMounted:!0,open:j,onClose:function(){v()},children:[Object(m.jsx)(T.a,{children:Object(m.jsx)("b",{children:h.email})}),Object(m.jsx)(T.a,{onClick:function(){v(),p(Object(S.c)())},children:"Logout"})]}),Object(m.jsxs)(C.a,{id:"simple-theme-menu",anchorEl:f,keepMounted:!0,open:b,onClose:function(){l(null)},style:{marginTop:"30px"},children:[Object(m.jsx)(T.a,{children:Object(m.jsx)("b",{children:"Themes"})}),Object.keys(s).map((function(t,n){return Object(m.jsx)(T.a,{className:x===t?e.active:null,onClick:function(){l(null),p(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return function(t){t(Object(U.a)(L,e)),localStorage.setItem("theme",e)}}(t))},children:t},n)}))]})]})}var M=function(e){var t=e.children,n=Object(O.c)((function(e){return e.userReducer.isLoggedIn}));return Object(m.jsx)("div",{children:Object(m.jsxs)("main",{style:{height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n&&Object(m.jsx)(D,{}),Object(m.jsx)("div",{className:"w-100 fg-100 overflow-auto position-relative",children:t}),Object(m.jsx)(x.a,{newestOnTop:!1,closeOnClick:!0,draggable:!0,limit:3,position:"bottom-left",autoClose:2e3,hideProgressBar:!0,progress:void 0})]})})},V=c.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,325))})),B=c.a.lazy((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,326))})),A=c.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,324))})),F=[{path:"/",exact:!0,layout:M,component:function(){return Object(m.jsx)(V,{})},strictlyPublic:!1},{path:"/room/:roomID",exact:!0,layout:M,component:function(){return Object(m.jsx)(A,{})},strictlyPublic:!1}],z=[{path:"/login",exact:!0,layout:M,component:function(){return Object(m.jsx)(B,{})},strictlyPublic:!0}],H=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return Object(m.jsx)(t,Object(b.a)({},n))},J=function(e){var t=e.layout,n=e.component,c=e.strictlyPublic,o=void 0!==c&&c,a=Object(j.a)(e,["layout","component","strictlyPublic"]),i=Object(O.c)((function(e){return e.userReducer.isLoggedIn}));return Object(m.jsx)(l.b,{path:a.path,exact:a.exact,component:function(e){return o&&!0===i?Object(m.jsx)(l.a,{to:"/"}):Object(m.jsx)(t,Object(b.a)(Object(b.a)({},e),{},{noNavbar:a.noNavbar,navbar:a.navbar,navItems:a.navItems,homeIcon:a.homeIcon,children:Object(m.jsx)(r.Suspense,{fallback:Object(m.jsx)("div",{className:"text-primary"}),children:Object(m.jsx)(H,Object(b.a)({component:n},e))})}))}})},W=c.a.memo((function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.userReducer.loginPending}));return Object(r.useEffect)((function(){e(Object(S.e)())}),[t]),Object(m.jsx)(f.a,{children:Object(m.jsxs)(l.d,{children:[z.map((function(e,t){return Object(m.jsx)(J,{strictlyPublic:e.strictlyPublic,layout:e.layout,path:e.path,exact:e.exact,component:e.component},t)})),F.map((function(e,t){return Object(m.jsx)(v,{layout:e.layout,path:e.path,exact:e.exact,component:e.component},t)}))]})})}));var q=function(){var e,t=Object(O.c)((function(e){return e.themeReducer.theme}));return Object(m.jsx)(u.a,{theme:(e=t,Object(i.a)({palette:s[e]})),children:Object(m.jsx)(W,{})})},K=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,321)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))},X=n(54),$=n(47),Q=n(27),Y=Object(b.a)(Object(b.a)({},{createRoomPending:!1,getRoomsPending:!1}),{},{rooms:[],currentRoom:{},roomMessages:[],userVideo:{audioOn:!0,videoOn:!0},isUserCreator:!1});var Z={theme:localStorage.getItem("theme")||"light"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case L:return Object(b.a)(Object(b.a)({},e),{},{theme:r});default:return e}},te=n(11),ne=Object(b.a)(Object(b.a)({},{loginPending:!1,getUserPending:!1}),{},{user:{},invitedRooms:[],token:"",isLoggedIn:!1});var re,ce=Object($.b)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(t.error,n){case te.g:return Object(b.a)(Object(b.a)({},e),{},{token:r});case te.e:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:r});case te.b:return Object(b.a)(Object(b.a)({},e),{},{user:r});case te.f:return Object(b.a)(Object(b.a)({},e),{},{loginPending:r});case te.d:return Object(b.a)(Object(b.a)({},e),{},{getUserPending:r});case te.a:return Object(b.a)(Object(b.a)({},e),{},{invitedRooms:r});default:return e}},themeReducer:ee,roomReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(t.error,n){case Q.a:return Object(b.a)(Object(b.a)({},e),{},{currentRoom:r,rooms:[r].concat(Object(X.a)(e.rooms))});case Q.c:return Object(b.a)(Object(b.a)({},e),{},{rooms:r});case Q.f:return Object(b.a)(Object(b.a)({},e),{},{userVideo:Object(b.a)(Object(b.a)({},e.userVideo),{},{audioOn:!e.userVideo.audioOn})});case Q.g:return Object(b.a)(Object(b.a)({},e),{},{userVideo:Object(b.a)(Object(b.a)({},e.userVideo),{},{videoOn:!e.userVideo.videoOn})});case Q.b:return Object(b.a)(Object(b.a)({},e),{},{currentRoom:r});case Q.e:return Object(b.a)(Object(b.a)({},e),{},{isUserCreator:r});case Q.d:return Object(b.a)(Object(b.a)({},e),{},{roomMessages:r});default:return e}}}),oe=function(e,t){return ce(e,t)},ae=n(94),ie=Object($.c)(oe,(re=[ae.a],$.a.apply(void 0,Object(X.a)(re))));a.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(O.a,{store:ie,children:Object(m.jsx)(q,{})})}),document.getElementById("root")),K()},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return l}));var r=n(4),c=n(87),o=n(39),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return{type:e,payload:t}},i=function(e){return function(t){return{type:e,error:t}}},u=function(e){var t=window.location;return new URL("/room/".concat(e,"/"),t)},s=function(e,t){var n,o=[],a=new Map,i=Object(c.a)(e);try{for(i.s();!(n=i.n()).done;){var u=n.value;a.has(u[t])||(a.set(u[t],!0),o.push(Object(r.a)({},u)))}}catch(s){i.e(s)}finally{i.f()}return o},f=function(e){return!!e&&"string"===typeof e&&e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)},l=function(e){var t={type:o.c.URL,is_correct:!0,error_message:""};try{var n=new URL(e);if(n.hostname!==window.location.hostname)return t.is_correct=!1,t.error_message="host of url should be ".concat(window.location.hostname),t;var r=n.pathname,c=new URL(o.b);if(r.length<c.pathname.length)return t.is_correct=!1,t.error_message="url path too short",t;if(r.length>c.pathname.length)return t.is_correct=!1,t.error_message="url path too long",t}catch(a){if(t.type=o.c.CODE,e.length<o.a.length)return t.is_correct=!1,t.error_message="code is too short",t;if(e.length>o.a.length)return t.is_correct=!1,t.error_message="code is too long",t}return t}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s}));var r="CREATE_ROOM",c="GET_ROOMS",o="TOGGLE_USER_AUDIO",a="TOGGLE_USER_VIDEO",i="SET_USER_IS_CREATOR",u="GET_ROOM",s="SET_MESSAGES"},35:function(e,t,n){"use strict";var r=n(92),c=n.n(r),o=n(46),a=n.n(o),i=c.a.create({baseURL:"/api/",headers:{"Content-type":"application/json; charset=UTF-8"}});i.interceptors.request.use((function(e){return e.headers["X-CSRFToken"]=a.a.get("teams_csrftoken"),e})),t.a=i},36:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return d}));var r="user/rest-auth/google/",c="user/rest-auth/facebook/",o="user/rest-auth/user/",a="user/rest-auth/logout/",i="room/",u="room/",s="room/invitations/",f=function(e){return"room/".concat(e,"/invite/")},l=function(e){return"room/".concat(e,"/isUserCreator/")},d=function(e){return"room/".concat(e,"/removeInvite/")}},39:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r={URL:"URL",CODE:"CODE"},c="http://localhost:3000/room/27655cd3-e3c3-4e19-8f8f-19c5a245cbcc/",o="27655cd3-e3c3-4e19-8f8f-19c5a245cbcc"},48:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return O}));var r=n(35),c=n(31),o=n(46),a=n.n(o),i=n(11),u=n(36),s=n(16),f=Object(s.b)(i.c),l=function(){var e=u.e;return function(t){t(Object(s.a)(i.d,!0)),r.a.get(e).then((function(e){t(Object(s.a)(i.e,!0)),t(Object(s.a)(i.b,e.data)),t(Object(s.a)(i.d,!1))})).catch((function(e){t(Object(s.a)(i.e,!1)),t(Object(s.a)(i.d,!1)),t(f(e))}))}},d=function(e){var t=u.f;return function(n){r.a.post(t,e).then((function(e){n(Object(s.a)(i.g,e.data.key)),n(Object(s.a)(i.e,!0)),n(l()),c.b.success("Logged In Successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.a.set("token",e.data.key,{expires:7})})).catch((function(e){n(f(e))}))}},b=function(e){var t=u.b;return function(n){r.a.post(t,e).then((function(e){n(Object(s.a)(i.g,e.data.key)),n(Object(s.a)(i.e,!0));n(l({bio:"",phone_number:""})),c.b.success("Welcome back, Logged In Successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.a.set("token",e.data.key,{expires:7})})).catch((function(e){n(f(e)),c.b.error("User is already signed In with this email, try to login with either google or fill the form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},j=function(){return function(e){var t=u.i;r.a.post(t).then((function(t){e(Object(s.a)(i.e,!1))}))}},O=function(){var e=u.c;return function(t){r.a.get(e).then((function(e){t(Object(s.a)(i.a,e.data))}))}}}},[[140,2,3]]]);
//# sourceMappingURL=main.af791279.chunk.js.map