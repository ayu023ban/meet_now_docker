(this.webpackJsonpteams_frontend=this.webpackJsonpteams_frontend||[]).push([[10],{307:function(e,t,a){"use strict";a.r(t);var n=a(40),c=a(0),o=a(186),r=a(10),i=a(278),s=a(218),l=a(14),j=a(179),u=a(171),m=a(141),d=a(140),h=a(2),p=Object(m.a)((function(e){return{container:{background:e.palette.background.default,height:"100%",width:"100%",position:"relative"},color:{color:e.palette.text.primary},paper:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"75vw",position:"relative",marginLeft:"auto",marginRight:"auto",top:"3rem"}}}));t.default=function(){var e=Object(r.i)().roomID,t=Object(r.g)(),a=p(),m=Object(l.c)((function(e){return e.userReducer.user.pk})),b=Object(c.useState)("pending"),f=Object(n.a)(b,2),g=f[0],O=f[1],v=Object(c.useState)(""),w=Object(n.a)(v,2),x=w[0],y=w[1];return Object(c.useEffect)((function(){o.a.refresh();var a="http:"===window.location.protocol?"ws":"wss",n=window.location.hostname.includes("localhost")?"localhost:7000":window.location.hostname;return o.a.connect("".concat(a,"://").concat(n,"/ws/room/").concat(e,"/"),(function(e){t.replace("/",{message:"the url entered is incorrect.",type:"error"})})),o.a.on("get permission",Object(s.c)(m,O)),o.a.on("join message",(function(e){"creator not available"===e&&O("message"),y("The creator has not joined the room yet. Please try joining after some time")})),function(){o.a.close()}}),[]),Object(c.useEffect)((function(){"reject"===g&&t.replace("/",{message:"The creator rejected the join request",type:"error"})}),[g]),Object(h.jsx)(h.Fragment,{children:"pending"===g?Object(h.jsx)("div",{className:a.container,children:Object(h.jsxs)(d.a,{elevation:3,variant:"outlined",className:a.paper,children:[Object(h.jsx)(j.a,{variant:"h2",className:a.color,style:{width:"max-content"},children:"Joining the room"}),Object(h.jsx)(u.a,{className:a.color,style:{marginLeft:"1rem"}})]})}):"accept"===g?Object(h.jsx)(i.default,{}):"message"===g?Object(h.jsx)("div",{className:a.container,children:Object(h.jsx)(d.a,{elevation:3,variant:"outlined",className:a.paper,children:Object(h.jsx)(j.a,{variant:"h2",className:a.color,style:{width:"max-content"},align:"center",children:x})})}):null})}}}]);
//# sourceMappingURL=10.b55627ef.chunk.js.map