(this.webpackJsonpteams_frontend=this.webpackJsonpteams_frontend||[]).push([[8],{190:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return j}));var r=n(42),c=n(31),o=n(30),a=n(43),i=n(18),s=function(e){var t=a.a;return function(n){r.a.post(t,e).then((function(e){n(Object(i.a)(o.a,e.data)),navigator.clipboard.writeText(Object(i.d)(e.data.id)),c.b.success("copied to clipboard")})).catch((function(e){c.b.error("error occured in creating the room")}))}},l=function(){var e=a.c;return function(t){r.a.get(e).then((function(e){t(Object(i.a)(o.c,e.data))})).catch((function(e){c.b.error("error occured in fetching your rooms",{})}))}},u=function(e){var t="".concat(a.c).concat(e,"/");return function(e){r.a.get(t).then((function(t){e(Object(i.a)(o.b,t.data))}))}},d=function(){return function(e){e(Object(i.a)(o.e))}},b=function(){return function(e){e(Object(i.a)(o.f))}},j=function(e){var t=Object(a.g)(e);return function(e){r.a.get(t).then((function(t){console.log(t),e(Object(i.a)(o.d,t.data.isCreator))}))}}},311:function(e,t,n){"use strict";n.r(t);var r=n(302),c=n(141),o=n(0),a=n(14),i=n(10),s=n(31),l=n(40),u=n(175),d=n(140),b=n(179),j=n(310),m=n(223),f=n(202),h=n.n(f),g=n(190),p=n(2),O=Object(u.a)((function(e){return{button:{margin:e.spacing(1),float:"right"},row:{display:"flex",marginTop:"1rem"}}}));var x=function(){var e=O(),t=Object(o.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(o.useState)(!1),s=Object(l.a)(i,2),u=s[0],f=s[1],x=Object(a.b)();return Object(p.jsxs)(d.a,{elevation:3,style:{minWidth:"35rem",minHeight:"7rem",borderRadius:"2rem",padding:"1rem"},children:[Object(p.jsx)(b.a,{variant:"h2",align:"center",children:"Create New Room"}),Object(p.jsxs)("div",{className:e.row,children:[Object(p.jsx)(j.a,{variant:"outlined",label:"Room Name",value:r,error:u,required:!0,onChange:function(e){var t=e.target.value;t.length<100&&c(t),u&&f(!1)},style:{flexGrow:1}}),Object(p.jsx)(m.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(p.jsx)(h.a,{}),onClick:function(){0===r.length?f(!0):(x(Object(g.a)({room_name:r})),c(""))},children:"Create"})]})]})},v="URL",y="CODE",w="27655cd3-e3c3-4e19-8f8f-19c5a245cbcc",_=Object(c.a)((function(e){return{button:{margin:e.spacing(1),float:"right"},row:{display:"flex",marginTop:"1rem"}}})),C=function(){var e=_(),t=Object(o.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(""),s=Object(l.a)(a,2),u=s[0],f=s[1],g=Object(i.g)();return Object(p.jsxs)(d.a,{elevation:3,style:{minWidth:"35rem",minHeight:"7rem",borderRadius:"2rem",padding:"1rem",marginTop:"2rem"},children:[Object(p.jsx)(b.a,{variant:"h2",align:"center",children:"Join Room"}),Object(p.jsxs)("div",{className:e.row,children:[Object(p.jsx)(j.a,{variant:"outlined",label:"Enter code or link of the room",value:r,error:Boolean(u),helperText:u,onChange:function(e){var t=e.target.value;c(t),u&&f("")},style:{flexGrow:1}}),Object(p.jsx)(m.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(p.jsx)(h.a,{}),onClick:function(){var e=function(e){var t={type:v,is_correct:!0,error_message:""};try{var n=new URL(e);if(n.hostname!==window.location.hostname)return t.is_correct=!1,t.error_message="host of url should be ".concat(window.location.hostname),t;var r=n.pathname,c=new URL("http://localhost:3000/room/27655cd3-e3c3-4e19-8f8f-19c5a245cbcc/");if(r.length<c.pathname.length)return t.is_correct=!1,t.error_message="url path too short",t;if(r.length>c.pathname.length)return t.is_correct=!1,t.error_message="url path too long",t}catch(o){if(t.type=y,e.length<w.length)return t.is_correct=!1,t.error_message="code is too short",t;if(e.length>w.length)return t.is_correct=!1,t.error_message="code is too long",t}return t}(r);if(e.is_correct){var t="";if(e.type===v)t=new URL(r).pathname;else t="room/".concat(r);g.push(t)}else f(e.error_message)},children:"Join"})]})]})},N=n(297),k=n(298),R=n(180),I=n(300),S=n(299),T=n(301),G=n(224),W=n.n(G),H=n(18),J=function(e){var t=e.room,n=Object(i.g)(),r=Object(H.d)(t.id);return Object(p.jsxs)(N.a,{style:{borderTop:"1px solid #ccc"},children:[Object(p.jsx)(k.a,{title:t.room_name,action:Object(p.jsx)(R.a,{onClick:function(){n.push("/room/".concat(t.id,"/"))},children:Object(p.jsx)(S.a,{})})}),Object(p.jsxs)(I.a,{style:{display:"flex"},children:[Object(p.jsx)(j.a,{variant:"outlined",defaultValue:r,InputProps:{readOnly:!0},style:{flexGrow:2}}),Object(p.jsx)(W.a,{text:r,onCopy:function(){s.b.success("copied to clipboard")},children:Object(p.jsx)(R.a,{style:{float:"right"},children:Object(p.jsx)(T.a,{})})})]})]})},L=Object(c.a)((function(e){return{paper:{minWidth:"35rem",minHeight:"7rem",borderRadius:"2rem",maxHeight:"40rem",overflow:"scroll","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"},header:{background:e.palette.background.paper,position:"sticky",top:0,zIndex:1,paddingBottom:"1rem"}}})),U=function(){var e=Object(a.c)((function(e){return e.roomReducer.rooms})),t=L();return Object(p.jsxs)(d.a,{elevation:3,className:t.paper,children:[Object(p.jsx)(b.a,{variant:"h2",align:"center",className:t.header,children:"Your Rooms"}),e.length>0&&e.map((function(e,t){return Object(p.jsx)(J,{room:e},t)})),0===e.length&&Object(p.jsx)(b.a,{className:"my-5",align:"center",children:"No rooms available. Please create a room to proceed"})]})},E=Object(c.a)((function(e){return{component:{flexGrow:1,width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},leftComp:{flexGrow:1,width:"50%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},container:{display:"flex",height:"100%",backgroundColor:e.palette.background.default}}}));t.default=function(){var e=Object(i.h)(),t=E(),n=Object(a.b)();return Object(o.useEffect)((function(){n(Object(g.d)()),e.state&&e.state.message&&("error"===e.state.type&&s.b.error(e.state.message),window.history.replaceState(null,""))}),[]),Object(p.jsxs)(r.a,{maxWidth:!1,className:t.container,children:[Object(p.jsxs)("div",{className:[t.leftComp],children:[Object(p.jsx)(x,{}),Object(p.jsx)(C,{})]}),Object(p.jsx)("div",{className:t.component,children:Object(p.jsx)(U,{})})]})}}}]);
//# sourceMappingURL=8.4313ee0a.chunk.js.map