(this.webpackJsonpteams_frontend=this.webpackJsonpteams_frontend||[]).push([[1],{11:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return s}));var r="GET_USER_ERROR",c="GET_USER",o="GET_USER_PENDING",a="LOGIN_PENDING",i="SET_TOKEN",u="LOGGEDINORNOT",s="GET_INVITATION"},112:function(e,t,n){},120:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(8),a=n.n(o),i=(n(112),n(113),n(95)),u=n(185),s={solarizedDark:{type:"dark",primary:{main:"#002b36",contrastText:"#eee8d5"},secondary:{main:"#eee8d5",contrastText:"#0e2a35"},background:{default:"#09232c",paper:"#002b36"}},solarizedLight:{type:"light",primary:{main:"#fff7dd",contrastText:"#002b36"},secondary:{main:"#002b36",contrastText:"#eee8d5"},background:{default:"#eee8d5",paper:"#fff7dd"}},palpatine:{type:"dark",primary:{main:"#1a1a1a",contrastText:"#ffffff"},secondary:{main:"#e04035",contrastText:"#ffffff"},background:{default:"#101010",paper:"#1b1b1b"}},light:{type:"light",primary:{main:"#f0f2f5",contrastText:"#000000"},secondary:{main:"#356fff",contrastText:"#ffffff"},background:{default:"#f0f2f5",paper:"#ffffff"}},dark:{type:"dark",primary:{main:"#282828",contrastText:"#ffffff"},secondary:{main:"#356fff",contrastText:"#ffffff"},background:{default:"#18191a",paper:"#242526"}}},l=n(58),d=n(10),f=n(43),b=n(4),j=n(38),O=n(13),h=n(173),p=n(2),m=function(){return Object(p.jsx)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("div",{children:Object(p.jsx)(h.a,{})})})},g=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return Object(p.jsx)(t,Object(b.a)({},n))},v=function(e){var t=e.layout,n=e.component,c=Object(j.a)(e,["layout","component"]),o=Object(r.useState)(!0),a=Object(f.a)(o,2),i=a[0],u=a[1],s=Object(r.useRef)(!0),l=Object(O.c)((function(e){return e.userReducer.isLoggedIn})),h=Object(O.c)((function(e){return e.userReducer.getUserPending}));return Object(r.useLayoutEffect)((function(){s.current?s.current=!1:h||u(!1)}),[h]),Object(r.useEffect)((function(){l&&u(!1)}),[l]),Object(p.jsx)(d.b,{path:c.path,exact:c.exact,component:function(e){return!0===i?Object(p.jsx)(m,{}):l?Object(p.jsx)(t,Object(b.a)(Object(b.a)({},e),{},{noNavbar:c.noNavbar,navbar:c.navbar,navItems:c.navItems,homeIcon:c.homeIcon,children:Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{className:"text-primary"}),children:Object(p.jsx)(g,Object(b.a)({component:n},e))})})):Object(p.jsx)(d.a,{to:"/login"})}})},x=n(31),y=(n(119),n(120),n(32)),k=n(177),R=n(179),_=n(180),T=n(182),E=n(181),I=n(188),C=n(151),w=n(187),P=n(178),N=n(49),L=n(93),U=n.n(L),S=n(16),G="CHANGE_THEME",D=Object(k.a)((function(e){return{grow:{flexGrow:1},title:{display:"block"},inputRoot:{color:"inherit"},inputInput:Object(y.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(y.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(y.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),orange:{color:e.palette.getContrastText(P.a[500]),backgroundColor:P.a[500]},active:{background:"#81818123"}}}));function M(){var e=D(),t=c.a.useState(null),n=Object(f.a)(t,2),o=n[0],a=n[1],i=Object(r.useState)(null),u=Object(f.a)(i,2),l=u[0],d=u[1],b=Boolean(l),j=Boolean(o),h=Object(O.c)((function(e){return e.userReducer.user})),m=Object(O.b)(),g=(h.first_name?h.first_name[0].toUpperCase():"")+(h.last_name?h.last_name[0].toUpperCase():""),v=function(){a(null)},x=Object(O.c)((function(e){return e.themeReducer.theme})),y="primary-search-account-menu";return Object(p.jsxs)("div",{className:e.grow,children:[Object(p.jsx)(R.a,{position:"static",children:Object(p.jsxs)(_.a,{children:[Object(p.jsx)(E.a,{className:e.title,variant:"h6",noWrap:!0,children:"Microsoft Teams"}),Object(p.jsx)("div",{className:e.grow}),Object(p.jsx)(T.a,{"aria-controls":"simple-theme-menu","aria-haspopup":"true",color:"inherit",className:"header-title-button",onClick:function(e){return d(e.currentTarget)},children:Object(p.jsx)(U.a,{})}),Object(p.jsx)("div",{className:e.sectionDesktop,children:Object(p.jsx)(T.a,{edge:"end","aria-label":"account of current user","aria-controls":y,"aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(p.jsx)(w.a,{className:e.orange,children:g})})})]})}),Object(p.jsxs)(C.a,{anchorEl:o,id:y,keepMounted:!0,open:j,onClose:function(){v()},children:[Object(p.jsx)(I.a,{children:Object(p.jsx)("b",{children:h.email})}),Object(p.jsx)(I.a,{onClick:function(){v(),m(Object(N.c)())},children:"Logout"})]}),Object(p.jsxs)(C.a,{id:"simple-theme-menu",anchorEl:l,keepMounted:!0,open:b,onClose:function(){d(null)},style:{marginTop:"30px"},children:[Object(p.jsx)(I.a,{children:Object(p.jsx)("b",{children:"Themes"})}),Object.keys(s).map((function(t,n){return Object(p.jsx)(I.a,{className:x===t?e.active:null,onClick:function(){d(null),m(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return function(t){t(Object(S.a)(G,e)),localStorage.setItem("theme",e)}}(t))},children:t},n)}))]})]})}var V=function(e){var t=e.children,n=Object(O.c)((function(e){return e.userReducer.isLoggedIn}));return Object(p.jsx)("div",{children:Object(p.jsxs)("main",{style:{height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[n&&Object(p.jsx)(M,{}),Object(p.jsx)("div",{className:"w-100 fg-100 overflow-auto position-relative",children:t}),Object(p.jsx)(x.a,{newestOnTop:!1,closeOnClick:!0,draggable:!0,limit:3,position:"bottom-left",autoClose:2e3,hideProgressBar:!0,progress:void 0})]})})},B=c.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,320))})),F=c.a.lazy((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,321))})),z=c.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,319))})),A=[{path:"/",exact:!0,layout:V,component:function(){return Object(p.jsx)(B,{})},strictlyPublic:!1},{path:"/room/:roomID",exact:!0,layout:V,component:function(){return Object(p.jsx)(z,{})},strictlyPublic:!1}],H=[{path:"/login",exact:!0,layout:V,component:function(){return Object(p.jsx)(F,{})},strictlyPublic:!0}],J=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return Object(p.jsx)(t,Object(b.a)({},n))},W=function(e){var t=e.layout,n=e.component,c=e.strictlyPublic,o=void 0!==c&&c,a=Object(j.a)(e,["layout","component","strictlyPublic"]),i=Object(O.c)((function(e){return e.userReducer.isLoggedIn}));return Object(p.jsx)(d.b,{path:a.path,exact:a.exact,component:function(e){return o&&!0===i?Object(p.jsx)(d.a,{to:"/"}):Object(p.jsx)(t,Object(b.a)(Object(b.a)({},e),{},{noNavbar:a.noNavbar,navbar:a.navbar,navItems:a.navItems,homeIcon:a.homeIcon,children:Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{className:"text-primary"}),children:Object(p.jsx)(J,Object(b.a)({component:n},e))})}))}})},q=c.a.memo((function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.userReducer.loginPending}));return Object(r.useEffect)((function(){e(Object(N.e)())}),[t]),Object(p.jsx)(l.a,{children:Object(p.jsxs)(d.d,{children:[H.map((function(e,t){return Object(p.jsx)(W,{strictlyPublic:e.strictlyPublic,layout:e.layout,path:e.path,exact:e.exact,component:e.component},t)})),A.map((function(e,t){return Object(p.jsx)(v,{layout:e.layout,path:e.path,exact:e.exact,component:e.component},t)}))]})})}));var K=function(){var e,t=Object(O.c)((function(e){return e.themeReducer.theme}));return Object(p.jsx)(u.a,{theme:(e=t,Object(i.a)({palette:s[e]})),children:Object(p.jsx)(q,{})})},X=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,316)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))},$=n(59),Q=n(48),Y=n(29),Z=Object(b.a)(Object(b.a)({},{createRoomPending:!1,getRoomsPending:!1}),{},{rooms:[],currentRoom:{},userVideo:{audioOn:!0,videoOn:!0},isUserCreator:!1});var ee={theme:localStorage.getItem("theme")||"light"},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case G:return Object(b.a)(Object(b.a)({},e),{},{theme:r});default:return e}},ne=n(11),re=Object(b.a)(Object(b.a)({},{loginPending:!1,getUserPending:!1}),{},{user:{},invitedRooms:[],token:"",isLoggedIn:!1});var ce,oe=Object(Q.b)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(t.error,n){case ne.g:return Object(b.a)(Object(b.a)({},e),{},{token:r});case ne.e:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:r});case ne.b:return Object(b.a)(Object(b.a)({},e),{},{user:r});case ne.f:return Object(b.a)(Object(b.a)({},e),{},{loginPending:r});case ne.d:return Object(b.a)(Object(b.a)({},e),{},{getUserPending:r});case ne.a:return Object(b.a)(Object(b.a)({},e),{},{invitedRooms:r});default:return e}},themeReducer:te,roomReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(t.error,n){case Y.a:return Object(b.a)(Object(b.a)({},e),{},{currentRoom:r,rooms:[r].concat(Object($.a)(e.rooms))});case Y.c:return Object(b.a)(Object(b.a)({},e),{},{rooms:r});case Y.e:return Object(b.a)(Object(b.a)({},e),{},{userVideo:Object(b.a)(Object(b.a)({},e.userVideo),{},{audioOn:!e.userVideo.audioOn})});case Y.f:return Object(b.a)(Object(b.a)({},e),{},{userVideo:Object(b.a)(Object(b.a)({},e.userVideo),{},{videoOn:!e.userVideo.videoOn})});case Y.b:return Object(b.a)(Object(b.a)({},e),{},{currentRoom:r});case Y.d:return Object(b.a)(Object(b.a)({},e),{},{isUserCreator:r});default:return e}}}),ae=function(e,t){return oe(e,t)},ie=n(94),ue=Object(Q.c)(ae,(ce=[ie.a],Q.a.apply(void 0,Object($.a)(ce))));a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(O.a,{store:ue,children:Object(p.jsx)(K,{})})}),document.getElementById("root")),X()},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(4),c=n(92),o=n(40),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return{type:e,payload:t}},i=function(e){return function(t){return{type:e,error:t}}},u=function(e){var t=window.location;return new URL("/room/".concat(e,"/"),t)},s=function(e,t){var n,o=[],a=new Map,i=Object(c.a)(e);try{for(i.s();!(n=i.n()).done;){var u=n.value;a.has(u[t])||(a.set(u[t],!0),o.push(Object(r.a)({},u)))}}catch(s){i.e(s)}finally{i.f()}return o},l=function(e){return!!e&&"string"===typeof e&&e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)},d=function(e){var t={type:o.c.URL,is_correct:!0,error_message:""};try{var n=new URL(e);if(n.hostname!==window.location.hostname)return t.is_correct=!1,t.error_message="host of url should be ".concat(window.location.hostname),t;var r=n.pathname,c=new URL(o.b);if(r.length<c.pathname.length)return t.is_correct=!1,t.error_message="url path too short",t;if(r.length>c.pathname.length)return t.is_correct=!1,t.error_message="url path too long",t}catch(a){if(t.type=o.c.CODE,e.length<o.a.length)return t.is_correct=!1,t.error_message="code is too short",t;if(e.length>o.a.length)return t.is_correct=!1,t.error_message="code is too long",t}return t}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u}));var r="CREATE_ROOM",c="GET_ROOMS",o="TOGGLE_USER_AUDIO",a="TOGGLE_USER_VIDEO",i="SET_USER_IS_CREATOR",u="GET_ROOM"},36:function(e,t,n){"use strict";var r=n(91),c=n.n(r),o=n(47),a=n.n(o),i=c.a.create({baseURL:"/api/",headers:{"Content-type":"application/json; charset=UTF-8"}});i.interceptors.request.use((function(e){return e.headers["X-CSRFToken"]=a.a.get("teams_csrftoken"),e})),t.a=i},37:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return f}));var r="user/rest-auth/google/",c="user/rest-auth/facebook/",o="user/rest-auth/user/",a="user/rest-auth/logout/",i="room/",u="room/",s="room/invitations/",l=function(e){return"room/".concat(e,"/invite/")},d=function(e){return"room/".concat(e,"/isUserCreator/")},f=function(e){return"room/".concat(e,"/removeInvite/")}},40:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r={URL:"URL",CODE:"CODE"},c="http://localhost:3000/room/27655cd3-e3c3-4e19-8f8f-19c5a245cbcc/",o="27655cd3-e3c3-4e19-8f8f-19c5a245cbcc"},49:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return O}));var r=n(36),c=n(31),o=n(47),a=n.n(o),i=n(11),u=n(37),s=n(16),l=Object(s.b)(i.c),d=function(){var e=u.e;return function(t){t(Object(s.a)(i.d,!0)),r.a.get(e).then((function(e){t(Object(s.a)(i.e,!0)),t(Object(s.a)(i.b,e.data)),t(Object(s.a)(i.d,!1))})).catch((function(e){t(Object(s.a)(i.e,!1)),t(Object(s.a)(i.d,!1)),t(l(e))}))}},f=function(e){var t=u.f;return function(n){r.a.post(t,e).then((function(e){n(Object(s.a)(i.g,e.data.key)),n(Object(s.a)(i.e,!0)),n(d()),c.b.success("Logged In Successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.a.set("token",e.data.key,{expires:7})})).catch((function(e){n(l(e))}))}},b=function(e){var t=u.b;return function(n){r.a.post(t,e).then((function(e){n(Object(s.a)(i.g,e.data.key)),n(Object(s.a)(i.e,!0));n(d({bio:"",phone_number:""})),c.b.success("Welcome back, Logged In Successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.a.set("token",e.data.key,{expires:7})})).catch((function(e){n(l(e)),c.b.error("User is already signed In with this email, try to login with either google or fill the form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},j=function(){return function(e){var t=u.i;r.a.post(t).then((function(t){e(Object(s.a)(i.e,!1))}))}},O=function(){var e=u.c;return function(t){r.a.get(e).then((function(e){t(Object(s.a)(i.a,e.data))}))}}}},[[140,2,3]]]);
//# sourceMappingURL=main.1076652c.chunk.js.map